<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VSTEP B1-B2 | 14 Ch·ªß ƒê·ªÅ T·ª´ V·ª±ng</title>
<link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;500;600;700;800;900&family=Playfair+Display:wght@700;800;900&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #f5f3ef;
  --surface: #ffffff;
  --surface2: #f0edea;
  --text: #1a1a2e;
  --text-dim: #6b7280;
  --accent: #e67e22;
  --accent2: #d35400;
  --green: #059669;
  --red: #dc2626;
  --blue: #2563eb;
  --purple: #7c3aed;
  --pink: #db2777;
  --cyan: #0891b2;
  --orange: #ea580c;
  --lime: #65a30d;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

html { scroll-behavior: smooth; }

body {
  font-family: 'Be Vietnam Pro', sans-serif;
  background: var(--bg);
  color: var(--text);
  min-height: 100vh;
  overflow-x: hidden;
}

/* === HEADER === */
.hero {
  position: relative;
  padding: 60px 24px 40px;
  text-align: center;
  overflow: hidden;
}

.hero::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(ellipse at 30% 50%, rgba(230,126,34,0.1) 0%, transparent 50%),
              radial-gradient(ellipse at 70% 50%, rgba(37,99,235,0.06) 0%, transparent 50%);
  animation: aurora 15s ease-in-out infinite;
}

@keyframes aurora {
  0%, 100% { transform: translate(0, 0) rotate(0deg); }
  33% { transform: translate(30px, -20px) rotate(1deg); }
  66% { transform: translate(-20px, 20px) rotate(-1deg); }
}

.hero h1 {
  font-family: 'Playfair Display', serif;
  font-size: clamp(2.2rem, 6vw, 3.8rem);
  font-weight: 900;
  background: linear-gradient(135deg, var(--accent), #1a1a2e, var(--accent2));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  letter-spacing: -1px;
  position: relative;
  margin-bottom: 8px;
}

.hero .subtitle {
  font-size: 1rem;
  color: var(--text-dim);
  font-weight: 300;
  position: relative;
}

.hero .subtitle span {
  color: var(--accent);
  font-weight: 600;
}

/* === MODE TABS === */
.mode-tabs {
  display: flex;
  justify-content: center;
  gap: 8px;
  padding: 16px 24px;
  position: sticky;
  top: 0;
  z-index: 100;
  background: rgba(245,243,239,0.9);
  backdrop-filter: blur(20px);
  border-bottom: 1px solid rgba(0,0,0,0.06);
}

.mode-tab {
  padding: 10px 20px;
  border: 1px solid rgba(0,0,0,0.1);
  border-radius: 100px;
  background: transparent;
  color: var(--text-dim);
  font-family: inherit;
  font-size: 0.85rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s;
}

.mode-tab:hover { border-color: var(--accent); color: var(--text); }
.mode-tab.active {
  background: var(--accent);
  color: #000;
  border-color: var(--accent);
  font-weight: 700;
}

/* === TOPIC NAV === */
.topic-nav {
  display: flex;
  gap: 8px;
  padding: 16px 24px;
  overflow-x: auto;
  scrollbar-width: none;
}
.topic-nav::-webkit-scrollbar { display: none; }

.topic-chip {
  flex-shrink: 0;
  padding: 8px 16px;
  border-radius: 100px;
  font-size: 0.8rem;
  font-weight: 500;
  cursor: pointer;
  border: 1px solid rgba(0,0,0,0.08);
  background: var(--surface);
  color: var(--text-dim);
  transition: all 0.3s;
  white-space: nowrap;
}

.topic-chip:hover { transform: translateY(-2px); border-color: rgba(0,0,0,0.15); }
.topic-chip.active { border-color: var(--accent); color: var(--accent); background: rgba(230,126,34,0.08); }

/* === CONTENT AREA === */
.content-area {
  max-width: 900px;
  margin: 0 auto;
  padding: 20px 24px 100px;
}

/* === STUDY MODE === */
.topic-section {
  margin-bottom: 48px;
  animation: fadeUp 0.5s ease;
}

@keyframes fadeUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

.topic-header {
  display: flex;
  align-items: center;
  gap: 14px;
  margin-bottom: 24px;
  padding-bottom: 16px;
  border-bottom: 2px solid rgba(0,0,0,0.06);
}

.topic-icon {
  width: 48px;
  height: 48px;
  border-radius: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.4rem;
  flex-shrink: 0;
}

.topic-title {
  font-family: 'Playfair Display', serif;
  font-size: 1.6rem;
  font-weight: 800;
}

.branch {
  margin-bottom: 20px;
  background: var(--surface);
  border-radius: 16px;
  border: 1px solid rgba(0,0,0,0.06);
  overflow: hidden;
  transition: border-color 0.3s;
  box-shadow: 0 1px 8px rgba(0,0,0,0.04);
}

.branch:hover { border-color: rgba(0,0,0,0.1); box-shadow: 0 4px 20px rgba(0,0,0,0.06); }

.branch-header {
  padding: 14px 20px;
  font-weight: 700;
  font-size: 0.95rem;
  display: flex;
  align-items: center;
  gap: 10px;
  cursor: pointer;
  user-select: none;
}

.branch-header .tag {
  padding: 3px 10px;
  border-radius: 6px;
  font-size: 0.7rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.branch-content {
  padding: 0 20px 16px;
}

.item {
  position: relative;
  padding: 10px 0 10px 20px;
  font-size: 0.9rem;
  line-height: 1.7;
  color: var(--text);
  border-left: 2px solid rgba(0,0,0,0.06);
  transition: all 0.2s;
}

.item:hover { border-left-color: var(--accent); }

.item::before {
  content: '';
  position: absolute;
  left: -5px;
  top: 16px;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--surface2);
  border: 2px solid rgba(0,0,0,0.12);
}

.item:hover::before { border-color: var(--accent); background: var(--accent); }

.item .vn {
  color: var(--text-dim);
  font-size: 0.82rem;
  font-style: italic;
}

.sub-items {
  margin-top: 6px;
  padding-left: 16px;
}

.sub-item {
  padding: 4px 0;
  font-size: 0.84rem;
  color: var(--text-dim);
  position: relative;
  padding-left: 14px;
}

.sub-item::before {
  content: '‚Üí';
  position: absolute;
  left: 0;
  color: rgba(0,0,0,0.15);
  font-size: 0.75rem;
}

/* === FLASHCARD MODE === */
.flashcard-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 24px;
  padding-top: 20px;
}

.flashcard-progress {
  font-size: 0.85rem;
  color: var(--text-dim);
}

.flashcard-progress span { color: var(--accent); font-weight: 700; }

.flashcard {
  width: 100%;
  max-width: 520px;
  min-height: 280px;
  perspective: 1000px;
  cursor: pointer;
}

.flashcard-inner {
  position: relative;
  width: 100%;
  min-height: 280px;
  transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  transform-style: preserve-3d;
}

.flashcard.flipped .flashcard-inner {
  transform: rotateY(180deg);
}

.flashcard-front, .flashcard-back {
  position: absolute;
  inset: 0;
  backface-visibility: hidden;
  border-radius: 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 32px;
  text-align: center;
}

.flashcard-front {
  background: linear-gradient(145deg, var(--surface), var(--surface2));
  border: 1px solid rgba(0,0,0,0.08);
}

.flashcard-back {
  background: linear-gradient(145deg, #fff8f0, #fef3e2);
  border: 1px solid rgba(230,126,34,0.25);
  transform: rotateY(180deg);
}

.flashcard-topic-label {
  font-size: 0.7rem;
  text-transform: uppercase;
  letter-spacing: 1.5px;
  color: var(--accent);
  margin-bottom: 12px;
  font-weight: 600;
}

.flashcard-question {
  font-size: 1.2rem;
  font-weight: 600;
  line-height: 1.6;
}

.flashcard-answer {
  font-size: 1rem;
  line-height: 1.8;
  color: var(--text);
}

.flashcard-hint {
  margin-top: 20px;
  font-size: 0.75rem;
  color: var(--text-dim);
}

.flashcard-controls {
  display: flex;
  gap: 12px;
}

.fc-btn {
  padding: 12px 28px;
  border-radius: 100px;
  border: 1px solid rgba(0,0,0,0.1);
  background: var(--surface);
  color: var(--text);
  font-family: inherit;
  font-size: 0.85rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s;
}

.fc-btn:hover { border-color: var(--accent); }
.fc-btn.primary { background: var(--accent); color: #000; border-color: var(--accent); font-weight: 700; }

/* === QUIZ MODE === */
.quiz-container {
  max-width: 600px;
  margin: 0 auto;
}

.quiz-header {
  text-align: center;
  margin-bottom: 32px;
}

.quiz-score {
  display: flex;
  justify-content: center;
  gap: 32px;
  margin-bottom: 20px;
}

.quiz-score-item {
  text-align: center;
}

.quiz-score-item .num {
  font-size: 2rem;
  font-weight: 800;
  font-family: 'Playfair Display', serif;
}

.quiz-score-item .label {
  font-size: 0.7rem;
  color: var(--text-dim);
  text-transform: uppercase;
  letter-spacing: 1px;
}

.quiz-question-card {
  background: var(--surface);
  border-radius: 20px;
  padding: 32px;
  border: 1px solid rgba(0,0,0,0.06);
  margin-bottom: 20px;
}

.quiz-q-number {
  font-size: 0.7rem;
  text-transform: uppercase;
  letter-spacing: 1.5px;
  color: var(--accent);
  margin-bottom: 12px;
  font-weight: 600;
}

.quiz-q-text {
  font-size: 1.1rem;
  font-weight: 600;
  margin-bottom: 24px;
  line-height: 1.6;
}

.quiz-options {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.quiz-option {
  padding: 14px 20px;
  border-radius: 12px;
  border: 1px solid rgba(0,0,0,0.08);
  background: var(--surface2);
  color: var(--text);
  font-family: inherit;
  font-size: 0.9rem;
  cursor: pointer;
  transition: all 0.3s;
  text-align: left;
  font-weight: 400;
}

.quiz-option:hover:not(.disabled) {
  border-color: var(--accent);
  background: rgba(230,126,34,0.05);
}

.quiz-option.correct {
  border-color: var(--green);
  background: rgba(5,150,105,0.08);
  color: var(--green);
}

.quiz-option.wrong {
  border-color: var(--red);
  background: rgba(220,38,38,0.08);
  color: var(--red);
}

.quiz-option.disabled { cursor: default; opacity: 0.5; }

.quiz-next {
  display: block;
  margin: 20px auto 0;
  padding: 12px 32px;
  border-radius: 100px;
  border: none;
  background: var(--accent);
  color: #000;
  font-family: inherit;
  font-size: 0.9rem;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.3s;
}

.quiz-next:hover { transform: scale(1.05); }

/* === TEXT VIEW === */
.text-view {
  max-width: 800px;
  margin: 0 auto;
}

.text-topic {
  margin-bottom: 36px;
  padding: 24px;
  background: var(--surface);
  border-radius: 16px;
  border: 1px solid rgba(0,0,0,0.06);
}

.text-topic h2 {
  font-family: 'Playfair Display', serif;
  font-size: 1.3rem;
  margin-bottom: 16px;
  padding-bottom: 12px;
  border-bottom: 1px solid rgba(0,0,0,0.06);
}

.text-branch {
  margin-bottom: 12px;
}

.text-branch h3 {
  font-size: 0.9rem;
  font-weight: 700;
  margin-bottom: 6px;
  display: inline-block;
  padding: 2px 10px;
  border-radius: 6px;
}

.text-line {
  padding: 4px 0 4px 16px;
  font-size: 0.88rem;
  line-height: 1.8;
  color: var(--text);
  position: relative;
}

.text-line::before {
  content: '‚Ä¢';
  position: absolute;
  left: 0;
  color: var(--text-dim);
}

.text-sub {
  padding-left: 24px;
  color: var(--text-dim);
  font-size: 0.82rem;
}

.text-sub::before { content: '‚Ü≥'; }

/* === SEARCH === */
.search-bar {
  max-width: 500px;
  margin: 0 auto 24px;
  position: relative;
}

.search-bar input {
  width: 100%;
  padding: 14px 20px 14px 48px;
  border-radius: 100px;
  border: 1px solid rgba(0,0,0,0.08);
  background: var(--surface);
  color: var(--text);
  font-family: inherit;
  font-size: 0.9rem;
  outline: none;
  transition: border-color 0.3s;
}

.search-bar input:focus { border-color: var(--accent); }

.search-bar .search-icon {
  position: absolute;
  left: 18px;
  top: 50%;
  transform: translateY(-50%);
  color: var(--text-dim);
  font-size: 1rem;
}

.hidden { display: none !important; }

/* === RESPONSIVE === */
@media (max-width: 600px) {
  .hero { padding: 40px 16px 24px; }
  .content-area { padding: 16px 16px 80px; }
  .branch-header { padding: 12px 16px; }
  .branch-content { padding: 0 16px 12px; }
  .flashcard-front, .flashcard-back { padding: 24px; }
  .quiz-question-card { padding: 24px; }
  .mode-tabs { gap: 4px; padding: 12px 16px; }
  .mode-tab { padding: 8px 14px; font-size: 0.78rem; }
}

/* Color variants for topic icons */
.bg-yellow { background: linear-gradient(135deg, #fbbf24, #f59e0b); }
.bg-orange { background: linear-gradient(135deg, #fb923c, #ea580c); }
.bg-red { background: linear-gradient(135deg, #f87171, #dc2626); }
.bg-pink { background: linear-gradient(135deg, #f472b6, #db2777); }
.bg-purple { background: linear-gradient(135deg, #a78bfa, #7c3aed); }
.bg-blue { background: linear-gradient(135deg, #60a5fa, #2563eb); }
.bg-cyan { background: linear-gradient(135deg, #22d3ee, #0891b2); }
.bg-green { background: linear-gradient(135deg, #34d399, #059669); }
.bg-lime { background: linear-gradient(135deg, #a3e635, #65a30d); }
.bg-teal { background: linear-gradient(135deg, #2dd4bf, #0d9488); }

.tag-adv { background: rgba(5,150,105,0.12); color: var(--green); }
.tag-dis { background: rgba(220,38,38,0.1); color: var(--red); }
.tag-ben { background: rgba(37,99,235,0.1); color: var(--blue); }
.tag-draw { background: rgba(234,88,12,0.1); color: var(--orange); }
.tag-good { background: rgba(5,150,105,0.12); color: var(--green); }
.tag-bad { background: rgba(220,38,38,0.1); color: var(--red); }
.tag-sol { background: rgba(124,58,237,0.1); color: var(--purple); }
.tag-info { background: rgba(37,99,235,0.1); color: var(--blue); }
.tag-cause { background: rgba(234,88,12,0.1); color: var(--orange); }
.tag-like { background: rgba(5,150,105,0.12); color: var(--green); }
.tag-dislike { background: rgba(220,38,38,0.1); color: var(--red); }
.tag-prob { background: rgba(220,38,38,0.1); color: var(--red); }
</style>
</head>
<body>

<div class="hero">
  <h1>VSTEP B1-B2</h1>
  <p class="subtitle">Mindmap <span>14 ch·ªß ƒë·ªÅ</span> t·ª´ v·ª±ng th∆∞·ªùng g·∫∑p</p>
</div>

<div class="mode-tabs">
  <button class="mode-tab active" onclick="switchMode('study')">üìñ H·ªçc theo ch·ªß ƒë·ªÅ</button>
  <button class="mode-tab" onclick="switchMode('text')">üìù Xem d·∫°ng text</button>
  <button class="mode-tab" onclick="switchMode('flashcard')">üÉè Flashcard</button>
  <button class="mode-tab" onclick="switchMode('quiz')">üß† Tr·∫Øc nghi·ªám</button>
</div>

<div class="topic-nav" id="topicNav"></div>

<div class="content-area" id="contentArea"></div>

<script>
// ===== FULL DATA: 14 VSTEP TOPICS =====
const topics = [
  {
    id: "transport",
    name: "Transport",
    icon: "üöó",
    color: "bg-blue",
    branches: [
      {
        label: "Advantages", tag: "tag-adv", tagText: "∆ØU ƒêI·ªÇM",
        items: [
          { text: "Be safer", subs: ["Have fewer accidents"] },
          { text: "Never think about the weather", subs: ["Rain, storm, sun, dark at night", "Avoid getting wet, dust"] },
          { text: "Feel comfortable and relaxed", subs: ["Listen to music", "Read books / take a nap"] },
          { text: "Be convenient and fast", subs: ["Travel wherever I want and whenever I want"] }
        ]
      },
      {
        label: "Disadvantages", tag: "tag-dis", tagText: "NH∆Ø·ª¢C ƒêI·ªÇM",
        items: [
          { text: "Be inconvenient", subs: ["Run slowly ‚Üí transport infrastructure is in bad conditions", "Wait such a long time for the bus"] },
          { text: "Have a higher chance of getting diseases" },
          { text: "Be pretty crowded at rush hours" },
          { text: "Public transport systems are quite bad" }
        ]
      }
    ]
  },
  {
    id: "city",
    name: "City",
    icon: "üèôÔ∏è",
    color: "bg-yellow",
    branches: [
      {
        label: "Places", tag: "tag-info", tagText: "ƒê·ªäA ƒêI·ªÇM",
        items: [
          { text: "Restaurants, cinemas, shopping malls, skyscrapers (t√≤a nh√† ch·ªçc tr·ªùi)..." }
        ]
      },
      {
        label: "Disadvantages", tag: "tag-dis", tagText: "NH∆Ø·ª¢C ƒêI·ªÇM",
        items: [
          { text: "The city environment is heavily polluted", subs: ["Have polluted air ‚Üí have fewer trees, rivers, mountains", "The traffic is always heavy", "The roads are in bad conditions"] },
          { text: "The cost of living in the city is expensive", subs: ["Spend more money"] },
          { text: "City life is more dangerous", subs: ["Have more crimes", "City people are easily attracted by social evils ‚Üí drinking, drug, gambling..."] }
        ]
      },
      {
        label: "Advantages", tag: "tag-adv", tagText: "∆ØU ƒêI·ªÇM",
        items: [
          { text: "City life is interesting", subs: ["Have many entertainments ‚Üí restaurants, parks, cinemas"] },
          { text: "City life is more convenient", subs: ["Live near hospitals, supermarkets, schools"] },
          { text: "Have higher incomes", subs: ["Save more money", "Buy what I like"] },
          { text: "Have more career opportunities (c√≥ nhi·ªÅu c∆° h·ªôi ngh·ªÅ nghi·ªáp)" }
        ]
      }
    ]
  },
  {
    id: "countryside",
    name: "Countryside",
    icon: "üåæ",
    color: "bg-cyan",
    branches: [
      {
        label: "Places", tag: "tag-info", tagText: "ƒê·ªäA ƒêI·ªÇM",
        items: [
          { text: "Rice fields, rivers, mountains" }
        ]
      },
      {
        label: "Benefits", tag: "tag-ben", tagText: "L·ª¢I √çCH",
        items: [
          { text: "Bring me a clean environment", subs: ["Have fresher air ‚Üí enjoy the clean and fresh air", "Have many trees, rice fields, rivers"] },
          { text: "The cost of living is cheap", subs: ["Save a lot of money"] },
          { text: "People are more friendly, opener", subs: ["Live near each other", "Meet and talk to each other everyday"] }
        ]
      },
      {
        label: "Drawbacks", tag: "tag-draw", tagText: "H·∫†N CH·∫æ",
        items: [
          { text: "Have lower incomes" },
          { text: "Life is boring", subs: ["Not have many places of conveniences and pleasures ‚Üí restaurants, public parks, cinemas, downtown boutiques"] }
        ]
      }
    ]
  },
  {
    id: "health",
    name: "Health",
    icon: "ü©∫",
    color: "bg-purple",
    branches: [
      {
        label: "Good habits", tag: "tag-good", tagText: "TH√ìI QUEN T·ªêT",
        items: [
          { text: "Eat healthy food", subs: ["Eat more fruits, fish, vegetables", "Drink more water everyday"] },
          { text: "Eat less meat and fat food, junk food" },
          { text: "Exercise everyday" },
          { text: "Have a regular health check-up", subs: ["Visit a doctor regularly to find out any diseases soon"] }
        ]
      },
      {
        label: "Benefits of good habits", tag: "tag-ben", tagText: "L·ª¢I √çCH",
        items: [
          { text: "Stay healthy" },
          { text: "Keep fit" },
          { text: "Have a better immune system" },
          { text: "Make us strong and relaxed" }
        ]
      },
      {
        label: "Bad habits", tag: "tag-bad", tagText: "TH√ìI QUEN X·∫§U",
        items: [
          { text: "Eat too much unhealthy food", subs: ["Fat food, junk food ‚Üí be fast and convenient, have affordable meals, have various choices, enjoy comfortable atmosphere"] },
          { text: "Eat too much meat, eat less vegetables, less fruits" },
          { text: "Don't exercise regularly" },
          { text: "Don't have a regular health check-up" }
        ]
      },
      {
        label: "Problems", tag: "tag-prob", tagText: "V·∫§N ƒê·ªÄ",
        items: [
          { text: "Increase the risk of health problems" },
          { text: "Increase the cholesterol level in blood" },
          { text: "Can't focus on work or study" },
          { text: "It is easy to get tired and ill" },
          { text: "Diseases: obesity (b√©o ph√¨), diabetes (ti·ªÉu ƒë∆∞·ªùng), heart disease (b·ªánh tim m·∫°ch), sleep disturbance (r·ªëi lo·∫°n gi·∫•c ng·ªß), high blood pressure (cao huy·∫øt √°p)" }
        ]
      }
    ]
  },
  {
    id: "environment",
    name: "Environment",
    icon: "üåø",
    color: "bg-green",
    branches: [
      {
        label: "Good habits", tag: "tag-good", tagText: "TH√ìI QUEN T·ªêT",
        items: [
          { text: "Reuse and recycle products" },
          { text: "Consume less energy / save energy" },
          { text: "Sort trash" },
          { text: "Use more reusable products" }
        ]
      },
      {
        label: "Benefits", tag: "tag-ben", tagText: "L·ª¢I √çCH",
        items: [
          { text: "Protect the environment in the long term" },
          { text: "Conserve natural resources" },
          { text: "Reduce levels of pollution" },
          { text: "Tackle some causes of global warming" }
        ]
      },
      {
        label: "Drawbacks (environmental problems)", tag: "tag-draw", tagText: "H·∫¨U QU·∫¢",
        items: [
          { text: "Cause global warming / climate change" },
          { text: "Pollute the environment" },
          { text: "Exploit natural resources" },
          { text: "Increase greenhouse gas emissions" }
        ]
      }
    ]
  },
  {
    id: "hobbies",
    name: "Hobbies",
    icon: "üéµ",
    color: "bg-yellow",
    branches: [
      {
        label: "Synonyms (T·ª´ ƒë·ªìng nghƒ©a)", tag: "tag-info", tagText: "T·ª™ V·ª∞NG",
        items: [
          { text: "Free time activities" },
          { text: "Leisure activities" }
        ]
      },
      {
        label: "Types (C√°c lo·∫°i)", tag: "tag-info", tagText: "PH√ÇN LO·∫†I",
        items: [
          { text: "Listening to music, reading books, watching films" },
          { text: "Playing sports: swimming, tennis, table tennis, football" },
          { text: "Go jogging" },
          { text: "Go shopping" }
        ]
      },
      {
        label: "Advantages", tag: "tag-adv", tagText: "∆ØU ƒêI·ªÇM",
        items: [
          { text: "Bring happiness to me and my family", subs: ["Make me relaxed / feel much happier"] },
          { text: "Talk and share the joy with others" },
          { text: "Reduce the stress of everyday hard work and study" },
          { text: "Develop imagination and creativity" },
          { text: "Broaden the knowledge" },
          { text: "Develop the cognitive skills" }
        ]
      },
      {
        label: "Disadvantages (gaming)", tag: "tag-dis", tagText: "NH∆Ø·ª¢C ƒêI·ªÇM",
        items: [
          { text: "Games contain a great deal of violence" },
          { text: "Increase aggressive feelings, thoughts and behaviors" },
          { text: "Not focus on their duties and study", subs: ["Perform worse and worse at school"] }
        ]
      },
      {
        label: "Solutions", tag: "tag-sol", tagText: "GI·∫¢I PH√ÅP",
        items: [
          { text: "Choose suitable computer games" },
          { text: "Be not allowed to play violent games" },
          { text: "Set limits on the length of time for playing games" }
        ]
      }
    ]
  },
  {
    id: "job-study",
    name: "Job / Study",
    icon: "üíº",
    color: "bg-red",
    branches: [
      {
        label: "Introduction", tag: "tag-info", tagText: "GI·ªöI THI·ªÜU",
        items: [
          { text: "I am a third-year student at the university of..." },
          { text: "I work as an accountant for ABC company." }
        ]
      },
      {
        label: "Duties - Study", tag: "tag-info", tagText: "NHI·ªÜM V·ª§",
        items: [
          { text: "Do homework" },
          { text: "Make presentations" },
          { text: "Join clubs" },
          { text: "Do part-time jobs at the weekends" }
        ]
      },
      {
        label: "Duties - Work", tag: "tag-info", tagText: "NHI·ªÜM V·ª§",
        items: [
          { text: "I am in charge of...", subs: ["Working with clients", "Solving clients' problems", "Contacting partners"] },
          { text: "Collaborate with other departments to run the business smoothly" }
        ]
      },
      {
        label: "Opinion - Like", tag: "tag-like", tagText: "TH√çCH",
        items: [
          { text: "Apply the knowledge and skills of field I studied in my work" },
          { text: "Have an environment to develop skills" },
          { text: "Have opportunities for promotion (c√≥ c∆° h·ªôi thƒÉng ti·∫øn)" },
          { text: "Co-workers are friendly and supportive" }
        ]
      },
      {
        label: "Opinion - Dislike", tag: "tag-dislike", tagText: "KH√îNG TH√çCH",
        items: [
          { text: "Sometimes, I have to work overtime", subs: ["Have less time for family and friends"] },
          { text: "The company is far from home" },
          { text: "The workload is huge", subs: ["Feel tired / overloaded"] }
        ]
      }
    ]
  },
  {
    id: "crime",
    name: "Crime",
    icon: "‚ö†Ô∏è",
    color: "bg-pink",
    branches: [
      {
        label: "Causes", tag: "tag-cause", tagText: "NGUY√äN NH√ÇN",
        items: [
          { text: "Not be nurtured with love, care and support", subs: ["Parents are too busy with work"] },
          { text: "Get access to many violent games", subs: ["Copy bad things on the internet"] },
          { text: "Poverty", subs: ["Not have enough means to secure a living in the right ways ‚Üí commit crimes", "The easiest way to get what they want", "Not require any skills or talents"] }
        ]
      },
      {
        label: "Solutions", tag: "tag-sol", tagText: "GI·∫¢I PH√ÅP",
        items: [
          { text: "Parents should spend more time with children", subs: ["Control their activities and behaviors", "Give advice to children", "Prevent children from making mistakes"] },
          { text: "Punish those who commit a crime", subs: ["Send criminals to a rehabilitation center", "Learn how to behave well", "Get vocational training ‚Üí find a job later"] }
        ]
      }
    ]
  },
  {
    id: "house",
    name: "House / Flat",
    icon: "üè†",
    color: "bg-pink",
    branches: [
      {
        label: "Rooms", tag: "tag-info", tagText: "C√ÅC PH√íNG",
        items: [
          { text: "Living room, bedroom, bathroom, garden, garage, balcony, toilet" }
        ]
      },
      {
        label: "Adjectives", tag: "tag-info", tagText: "T√çNH T·ª™",
        items: [
          { text: "Large, big, spacious" },
          { text: "Quiet, peaceful" },
          { text: "Pretty, beautiful" },
          { text: "Stuffy (ng·ªôt ng·∫°t)" },
          { text: "Drafty (nhi·ªÅu gi√≥ l√πa)" },
          { text: "Cramped (ch·∫≠t ch·ªôi)" }
        ]
      },
      {
        label: "Furniture", tag: "tag-info", tagText: "N·ªòI TH·∫§T",
        items: [
          { text: "Table, TV, sofa, bookshelf, bed, wardrobe" }
        ]
      },
      {
        label: "Activities", tag: "tag-info", tagText: "HO·∫†T ƒê·ªòNG",
        items: [
          { text: "Grow plants and flowers in the garden" },
          { text: "Read books, watch TV, welcome guests in the living room" }
        ]
      }
    ]
  },
  {
    id: "technology",
    name: "Technology",
    icon: "üì±",
    color: "bg-orange",
    branches: [
      {
        label: "Advantages", tag: "tag-adv", tagText: "∆ØU ƒêI·ªÇM",
        items: [
          { text: "Perform faster and more efficiently" }
        ]
      },
      {
        label: "Disadvantages", tag: "tag-dis", tagText: "NH∆Ø·ª¢C ƒêI·ªÇM",
        items: [
          { text: "Have less social interactions" },
          { text: "Make people lazier", subs: ["Depend too much on machines ‚Üí refuse to do tasks by hand"] },
          { text: "Increase the unemployment rate" }
        ]
      },
      {
        label: "Solutions", tag: "tag-sol", tagText: "GI·∫¢I PH√ÅP",
        items: [
          { text: "Join social activities: team building, picnic, party" },
          { text: "Raise the sense of responsibility" },
          { text: "Take some programs or training courses to control modern machines" },
          { text: "Update themselves with the development of science and technology" }
        ]
      }
    ]
  },
  {
    id: "languages",
    name: "Learning Foreign Languages",
    icon: "üåê",
    color: "bg-blue",
    branches: [
      {
        label: "Benefits", tag: "tag-ben", tagText: "L·ª¢I √çCH",
        items: [
          { text: "Helps us learn and get information in the world", subs: ["Many books are written in English"] },
          { text: "Helps us feel more confident when travelling abroad", subs: ["Talk easily with foreigners", "Work and do business without an interpreter"] },
          { text: "Learn more about that country", subs: ["Culture, people, society, customs and traditions"] },
          { text: "Become friends with many people around the world" },
          { text: "Open a new door to the world" }
        ]
      }
    ]
  },
  {
    id: "machine",
    name: "Machine (Computer/Internet)",
    icon: "üíª",
    color: "bg-purple",
    branches: [
      {
        label: "Learning & Information", tag: "tag-ben", tagText: "H·ªåC T·∫¨P",
        items: [
          { text: "Be a good way of learning and getting information", subs: ["Read newspapers online", "Download lots of information", "Learn online"] }
        ]
      },
      {
        label: "Work & Study", tag: "tag-info", tagText: "C√îNG VI·ªÜC",
        items: [
          { text: "Be convenient for work, study", subs: ["Work faster and more efficiently ‚Üí typing, printing documents, storing data"] }
        ]
      },
      {
        label: "Entertainment", tag: "tag-like", tagText: "GI·∫¢I TR√ç",
        items: [
          { text: "Be a good way to entertain", subs: ["Play games", "Listen to music, watch movies", "Join forums, Facebook groups to share ideas and information"] }
        ]
      }
    ]
  },
  {
    id: "person",
    name: "Describe a Person",
    icon: "üë•",
    color: "bg-blue",
    branches: [
      {
        label: "Appearance", tag: "tag-info", tagText: "NGO·∫†I H√åNH",
        items: [
          { text: "Tall, short, old, young, medium-height, middle-aged" },
          { text: "Beautiful, pretty, handsome, good-looking" },
          { text: "Have short/long black hair" },
          { text: "Have a sunny smile" }
        ]
      },
      {
        label: "Characters - Good", tag: "tag-good", tagText: "T√çNH C√ÅCH T·ªêT",
        items: [
          { text: "Sincere = honest (th·∫≠t th√†)" },
          { text: "Helpful, kind, nice" },
          { text: "Generous (h√†o ph√≥ng)" }
        ]
      },
      {
        label: "Characters - Bad", tag: "tag-bad", tagText: "T√çNH C√ÅCH X·∫§U",
        items: [
          { text: "Talkative" },
          { text: "Awful, terrible, bad" },
          { text: "Selfish (√≠ch k·ª∑)" }
        ]
      },
      {
        label: "Relationship", tag: "tag-info", tagText: "M·ªêI QUAN H·ªÜ",
        items: [
          { text: "We have known each other for 10 years" },
          { text: "We first met at high school / at the company" }
        ]
      },
      {
        label: "Common activities", tag: "tag-like", tagText: "HO·∫†T ƒê·ªòNG CHUNG",
        items: [
          { text: "Often meet at the coffee shop" },
          { text: "Go shopping together" },
          { text: "Talk and share with each other about life, study, work, family..." }
        ]
      }
    ]
  },
  {
    id: "holiday",
    name: "Holiday",
    icon: "üèñÔ∏è",
    color: "bg-teal",
    branches: [
      {
        label: "Likes - Scenery", tag: "tag-like", tagText: "PHONG C·∫¢NH",
        items: [
          { text: "The scenery is magnificent", subs: ["There are breathtaking views of the mountains and rivers", "Enjoy fresh and pure air"] }
        ]
      },
      {
        label: "Likes - Food", tag: "tag-like", tagText: "·∫®M TH·ª∞C",
        items: [
          { text: "The local cuisine is fresh and delicious but not expensive", subs: ["Have a variety of food ‚Üí crab, lobsters, seashells"] }
        ]
      },
      {
        label: "Likes - People", tag: "tag-like", tagText: "CON NG∆Ø·ªúI",
        items: [
          { text: "People are friendly, sociable, polite" }
        ]
      },
      {
        label: "Activities", tag: "tag-info", tagText: "HO·∫†T ƒê·ªòNG",
        items: [
          { text: "Swim in the blue and clear seawater" },
          { text: "Do sunbathing on the soft sand beach under the yellow and warm sunshine" },
          { text: "Play football on the beach" },
          { text: "Build sandcastles on the beach" },
          { text: "Watch the sunrise / sunset" }
        ]
      }
    ]
  }
];

// ===== STATE =====
let currentMode = 'study';
let currentTopicIdx = 0;
let flashcardIdx = 0;
let flashcardDeck = [];
let quizIdx = 0;
let quizScore = { correct: 0, wrong: 0 };
let quizQuestions = [];

// ===== BUILD TOPIC NAV =====
function buildTopicNav() {
  const nav = document.getElementById('topicNav');
  nav.innerHTML = topics.map((t, i) =>
    `<div class="topic-chip ${i === currentTopicIdx ? 'active' : ''}" onclick="selectTopic(${i})">${t.icon} ${t.name}</div>`
  ).join('');
}

function selectTopic(idx) {
  currentTopicIdx = idx;
  buildTopicNav();
  renderContent();
  const el = document.getElementById(`topic-${topics[idx].id}`);
  if (el) el.scrollIntoView({ behavior: 'smooth', block: 'start' });
}

// ===== SWITCH MODE =====
function switchMode(mode) {
  currentMode = mode;
  document.querySelectorAll('.mode-tab').forEach(t => t.classList.remove('active'));
  event.target.classList.add('active');
  renderContent();
}

// ===== RENDER =====
function renderContent() {
  const area = document.getElementById('contentArea');
  if (currentMode === 'study') renderStudy(area);
  else if (currentMode === 'text') renderText(area);
  else if (currentMode === 'flashcard') renderFlashcard(area);
  else if (currentMode === 'quiz') renderQuiz(area);
}

// ----- STUDY MODE -----
function renderStudy(area) {
  area.innerHTML = `
    <div class="search-bar">
      <span class="search-icon">üîç</span>
      <input type="text" placeholder="T√¨m t·ª´ v·ª±ng..." oninput="filterStudy(this.value)">
    </div>
    <div id="studyContent">${topics.map(renderTopicSection).join('')}</div>
  `;
}

function renderTopicSection(topic) {
  return `
    <div class="topic-section" id="topic-${topic.id}" data-topic="${topic.name.toLowerCase()}">
      <div class="topic-header">
        <div class="topic-icon ${topic.color}">${topic.icon}</div>
        <div class="topic-title">${topic.name}</div>
      </div>
      ${topic.branches.map(b => `
        <div class="branch">
          <div class="branch-header">
            <span class="tag ${b.tag}">${b.tagText}</span>
            ${b.label}
          </div>
          <div class="branch-content">
            ${b.items.map(item => `
              <div class="item" data-search="${item.text.toLowerCase()} ${(item.subs||[]).join(' ').toLowerCase()}">
                ${item.text}
                ${item.subs ? `<div class="sub-items">${item.subs.map(s => `<div class="sub-item">${s}</div>`).join('')}</div>` : ''}
              </div>
            `).join('')}
          </div>
        </div>
      `).join('')}
    </div>
  `;
}

function filterStudy(query) {
  const q = query.toLowerCase().trim();
  document.querySelectorAll('.topic-section').forEach(section => {
    let hasMatch = false;
    section.querySelectorAll('.item').forEach(item => {
      const match = !q || item.dataset.search.includes(q);
      item.style.display = match ? '' : 'none';
      if (match) hasMatch = true;
    });
    section.style.display = (!q || hasMatch) ? '' : 'none';
  });
}

// ----- TEXT MODE -----
function renderText(area) {
  area.innerHTML = `<div class="text-view">${topics.map(t => `
    <div class="text-topic" id="topic-${t.id}">
      <h2>${t.icon} ${t.name}</h2>
      ${t.branches.map(b => `
        <div class="text-branch">
          <h3 class="${b.tag}">${b.tagText}: ${b.label}</h3>
          ${b.items.map(item => `
            <div class="text-line">${item.text}</div>
            ${(item.subs||[]).map(s => `<div class="text-line text-sub">${s}</div>`).join('')}
          `).join('')}
        </div>
      `).join('')}
    </div>
  `).join('')}</div>`;
}

// ----- FLASHCARD MODE -----
function buildFlashcardDeck() {
  flashcardDeck = [];
  topics.forEach(t => {
    t.branches.forEach(b => {
      b.items.forEach(item => {
        flashcardDeck.push({
          topic: t.name,
          topicIcon: t.icon,
          question: item.text,
          details: item.subs || [],
          branchLabel: b.label
        });
      });
    });
  });
  // shuffle
  for (let i = flashcardDeck.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [flashcardDeck[i], flashcardDeck[j]] = [flashcardDeck[j], flashcardDeck[i]];
  }
  flashcardIdx = 0;
}

function renderFlashcard(area) {
  if (!flashcardDeck.length) buildFlashcardDeck();
  const card = flashcardDeck[flashcardIdx];
  area.innerHTML = `
    <div class="flashcard-container">
      <div class="flashcard-progress">Th·∫ª <span>${flashcardIdx + 1}</span> / ${flashcardDeck.length}</div>
      <div class="flashcard" id="flashcard" onclick="document.getElementById('flashcard').classList.toggle('flipped')">
        <div class="flashcard-inner">
          <div class="flashcard-front">
            <div class="flashcard-topic-label">${card.topicIcon} ${card.topic} ‚Äî ${card.branchLabel}</div>
            <div class="flashcard-question">${card.question}</div>
            <div class="flashcard-hint">Nh·∫•n ƒë·ªÉ l·∫≠t th·∫ª</div>
          </div>
          <div class="flashcard-back">
            <div class="flashcard-topic-label">Chi ti·∫øt</div>
            <div class="flashcard-answer">
              ${card.details.length ? card.details.map(d => `‚Üí ${d}`).join('<br>') : '<em>Kh√¥ng c√≥ chi ti·∫øt th√™m</em>'}
            </div>
          </div>
        </div>
      </div>
      <div class="flashcard-controls">
        <button class="fc-btn" onclick="prevFlashcard()">‚Üê Tr∆∞·ªõc</button>
        <button class="fc-btn" onclick="buildFlashcardDeck(); renderFlashcard(document.getElementById('contentArea'))">üîÄ Tr·ªôn</button>
        <button class="fc-btn primary" onclick="nextFlashcard()">Ti·∫øp ‚Üí</button>
      </div>
    </div>
  `;
}

function nextFlashcard() {
  flashcardIdx = (flashcardIdx + 1) % flashcardDeck.length;
  renderFlashcard(document.getElementById('contentArea'));
}

function prevFlashcard() {
  flashcardIdx = (flashcardIdx - 1 + flashcardDeck.length) % flashcardDeck.length;
  renderFlashcard(document.getElementById('contentArea'));
}

// ----- QUIZ MODE -----
// ===== 100 QUIZ QUESTIONS BANK =====
const quizBank = [
  // TRANSPORT (1-8)
  {topic:"Transport",q:"M·ªôt ∆∞u ƒëi·ªÉm c·ªßa ph∆∞∆°ng ti·ªán c√° nh√¢n l√† g√¨?",opts:["Be safer ‚Äì have fewer accidents","Be pretty crowded at rush hours","Public transport systems are quite bad","Have a higher chance of getting diseases"],ans:0},
  {topic:"Transport",q:"'Never think about the weather' l√† ∆∞u ƒëi·ªÉm hay nh∆∞·ª£c ƒëi·ªÉm c·ªßa ph∆∞∆°ng ti·ªán c√° nh√¢n?",opts:["∆Øu ƒëi·ªÉm (Advantage)","Nh∆∞·ª£c ƒëi·ªÉm (Disadvantage)","Gi·∫£i ph√°p (Solution)","Kh√¥ng li√™n quan"],ans:0},
  {topic:"Transport",q:"Khi ƒëi ph∆∞∆°ng ti·ªán c√° nh√¢n, b·∫°n c√≥ th·ªÉ l√†m g√¨ ƒë·ªÉ c·∫£m th·∫•y tho·∫£i m√°i?",opts:["Listen to music, read books, take a nap","Wait a long time for the bus","Get crowded at rush hours","Run slowly on bad roads"],ans:0},
  {topic:"Transport",q:"'Transport infrastructure is in bad conditions' d·∫´n ƒë·∫øn h·∫≠u qu·∫£ g√¨?",opts:["Ph∆∞∆°ng ti·ªán ch·∫°y ch·∫≠m (run slowly)","C√≥ √≠t tai n·∫°n h∆°n","Ti·∫øt ki·ªám th·ªùi gian","Tho·∫£i m√°i h∆°n"],ans:0},
  {topic:"Transport",q:"Nh∆∞·ª£c ƒëi·ªÉm n√†o KH√îNG ƒë∆∞·ª£c nh·∫Øc ƒë·∫øn v·ªÅ giao th√¥ng c√¥ng c·ªông?",opts:["Gi√° v√© qu√° ƒë·∫Øt","ƒê√¥ng ƒë√∫c v√†o gi·ªù cao ƒëi·ªÉm","Ph·∫£i ch·ªù xe bu√Ωt l√¢u","H·ªá th·ªëng giao th√¥ng c√¥ng c·ªông kh√° t·ªá"],ans:0},
  {topic:"Transport",q:"'Be convenient and fast' c√≥ nghƒ©a l√† g√¨?",opts:["Thu·∫≠n ti·ªán v√† nhanh ch√≥ng","Tho·∫£i m√°i v√† th∆∞ gi√£n","An to√†n v√† ·ªïn ƒë·ªãnh","R·∫ª v√† ti·∫øt ki·ªám"],ans:0},
  {topic:"Transport",q:"ƒêi·ªÅn v√†o ch·ªó tr·ªëng: Travel ______ I want and ______ I want.",opts:["wherever / whenever","however / whatever","whoever / whichever","whichever / however"],ans:0},
  {topic:"Transport",q:"ƒêi ph∆∞∆°ng ti·ªán c√¥ng c·ªông c√≥ th·ªÉ d·∫´n ƒë·∫øn nguy c∆° g√¨ v·ªÅ s·ª©c kh·ªèe?",opts:["Have a higher chance of getting diseases","Have fewer accidents","Feel comfortable and relaxed","Be convenient and fast"],ans:0},
  // CITY (9-16)
  {topic:"City",q:"Nh·ªØng ƒë·ªãa ƒëi·ªÉm n√†o th∆∞·ªùng c√≥ ·ªü th√†nh ph·ªë?",opts:["Restaurants, cinemas, shopping malls, skyscrapers","Rice fields, rivers, mountains","Forests, lakes, farms","Villages, temples, pagodas"],ans:0},
  {topic:"City",q:"'The city environment is heavily polluted' ‚Äì h·∫≠u qu·∫£ n√†o ƒë√∫ng?",opts:["Have polluted air, heavy traffic, bad roads","Save more money","Have more career opportunities","People are friendly"],ans:0},
  {topic:"City",q:"T·ª´ 'skyscrapers' trong ti·∫øng Vi·ªát nghƒ©a l√† g√¨?",opts:["T√≤a nh√† ch·ªçc tr·ªùi","Trung t√¢m th∆∞∆°ng m·∫°i","R·∫°p chi·∫øu phim","Nh√† h√†ng"],ans:0},
  {topic:"City",q:"Chi ph√≠ s·ªëng ·ªü th√†nh ph·ªë nh∆∞ th·∫ø n√†o?",opts:["Expensive ‚Äì spend more money","Cheap ‚Äì save a lot of money","Free ‚Äì no cost at all","Moderate ‚Äì just enough"],ans:0},
  {topic:"City",q:"'Social evils' (t·ªá n·∫°n x√£ h·ªôi) bao g·ªìm nh·ªØng g√¨?",opts:["Drinking, drug, gambling","Swimming, jogging, reading","Cooking, cleaning, shopping","Studying, working, volunteering"],ans:0},
  {topic:"City",q:"∆Øu ƒëi·ªÉm n√†o c·ªßa th√†nh ph·ªë li√™n quan ƒë·∫øn gi·∫£i tr√≠?",opts:["Have many entertainments ‚Äì restaurants, parks, cinemas","Have fresher air","People are more friendly","The cost of living is cheap"],ans:0},
  {topic:"City",q:"S·ªëng ·ªü th√†nh ph·ªë c√≥ thu nh·∫≠p nh∆∞ th·∫ø n√†o?",opts:["Have higher incomes ‚Äì save more money, buy what I like","Have lower incomes","Have no income","Have unstable incomes"],ans:0},
  {topic:"City",q:"'Have more career opportunities' nghƒ©a l√† g√¨?",opts:["C√≥ nhi·ªÅu c∆° h·ªôi ngh·ªÅ nghi·ªáp","C√≥ nhi·ªÅu b·∫°n b√®","C√≥ nhi·ªÅu gi·∫£i tr√≠","C√≥ nhi·ªÅu √¥ nhi·ªÖm"],ans:0},
  // COUNTRYSIDE (17-23)
  {topic:"Countryside",q:"Nh·ªØng ƒë·ªãa ƒëi·ªÉm ƒë·∫∑c tr∆∞ng c·ªßa n√¥ng th√¥n l√† g√¨?",opts:["Rice fields, rivers, mountains","Shopping malls, cinemas, skyscrapers","Airports, train stations, highways","Factories, offices, banks"],ans:0},
  {topic:"Countryside",q:"Kh√¥ng kh√≠ ·ªü n√¥ng th√¥n nh∆∞ th·∫ø n√†o?",opts:["Have fresher air ‚Äì enjoy the clean and fresh air","Have polluted air","The air is heavily polluted","There is too much dust"],ans:0},
  {topic:"Countryside",q:"Chi ph√≠ s·ªëng ·ªü n√¥ng th√¥n ra sao?",opts:["The cost of living is cheap ‚Äì save a lot of money","The cost of living is expensive","Very costly","Unaffordable"],ans:0},
  {topic:"Countryside",q:"Con ng∆∞·ªùi ·ªü n√¥ng th√¥n c√≥ ƒë·∫∑c ƒëi·ªÉm g√¨?",opts:["More friendly, opener ‚Äì live near each other","Cold and distant","Very competitive","Unfriendly and selfish"],ans:0},
  {topic:"Countryside",q:"Nh∆∞·ª£c ƒëi·ªÉm c·ªßa n√¥ng th√¥n l√† g√¨?",opts:["Have lower incomes, life is boring","Have higher incomes","Too many entertainment places","Traffic is always heavy"],ans:0},
  {topic:"Countryside",q:"N√¥ng th√¥n thi·∫øu nh·ªØng g√¨?",opts:["Restaurants, public parks, cinemas, downtown boutiques","Rice fields and rivers","Fresh air and trees","Friendly neighbors"],ans:0},
  {topic:"Countryside",q:"T·ª´ 'opener' trong ng·ªØ c·∫£nh m√¥ t·∫£ con ng∆∞·ªùi n√¥ng th√¥n c√≥ nghƒ©a g·∫ßn v·ªõi?",opts:["C·ªüi m·ªü","M·ªü c·ª≠a","Kh√©p k√≠n","Nghi√™m t√∫c"],ans:0},
  // HEALTH (24-35)
  {topic:"Health",q:"Th√≥i quen ƒÉn u·ªëng l√†nh m·∫°nh bao g·ªìm?",opts:["Eat more fruits, fish, vegetables","Eat more junk food","Eat more fat food","Skip breakfast every day"],ans:0},
  {topic:"Health",q:"T·∫≠p th·ªÉ d·ª•c ƒë·ªÅu ƒë·∫∑n mang l·∫°i l·ª£i √≠ch g√¨?",opts:["Stay healthy, keep fit, better immune system","Increase cholesterol level","Get tired easily","Can not focus on work"],ans:0},
  {topic:"Health",q:"'Have a regular health check-up' nghƒ©a l√† g√¨?",opts:["Kh√°m s·ª©c kh·ªèe ƒë·ªãnh k·ª≥","T·∫≠p th·ªÉ d·ª•c h√†ng ng√†y","ƒÇn nhi·ªÅu rau xanh","U·ªëng nhi·ªÅu n∆∞·ªõc"],ans:0},
  {topic:"Health",q:"T·ª´ 'obesity' trong ti·∫øng Vi·ªát nghƒ©a l√†?",opts:["B√©o ph√¨","Ti·ªÉu ƒë∆∞·ªùng","Cao huy·∫øt √°p","B·ªánh tim m·∫°ch"],ans:0},
  {topic:"Health",q:"T·ª´ 'diabetes' trong ti·∫øng Vi·ªát nghƒ©a l√†?",opts:["Ti·ªÉu ƒë∆∞·ªùng","B√©o ph√¨","R·ªëi lo·∫°n gi·∫•c ng·ªß","B·ªánh tim m·∫°ch"],ans:0},
  {topic:"Health",q:"'High blood pressure' nghƒ©a ti·∫øng Vi·ªát l√† g√¨?",opts:["Cao huy·∫øt √°p","Ti·ªÉu ƒë∆∞·ªùng","B√©o ph√¨","R·ªëi lo·∫°n gi·∫•c ng·ªß"],ans:0},
  {topic:"Health",q:"'Sleep disturbance' d·ªãch sang ti·∫øng Vi·ªát l√†?",opts:["R·ªëi lo·∫°n gi·∫•c ng·ªß","Cao huy·∫øt √°p","B√©o ph√¨","B·ªánh tim"],ans:0},
  {topic:"Health",q:"ƒÇn qu√° nhi·ªÅu ƒë·ªì ƒÉn kh√¥ng l√†nh m·∫°nh g√¢y ra v·∫•n ƒë·ªÅ g√¨?",opts:["Increase the risk of health problems","Stay healthy and keep fit","Have a better immune system","Make us strong and relaxed"],ans:0},
  {topic:"Health",q:"L·ª£i √≠ch c·ªßa fast food / junk food l√† g√¨?",opts:["Be fast and convenient, have affordable meals","Stay healthy","Keep fit","Have a better immune system"],ans:0},
  {topic:"Health",q:"Th√≥i quen x·∫•u n√†o li√™n quan ƒë·∫øn s·ª©c kh·ªèe?",opts:["Do not exercise regularly","Eat more fruits and vegetables","Drink more water everyday","Exercise everyday"],ans:0},
  {topic:"Health",q:"'Heart disease' trong ti·∫øng Vi·ªát l√† g√¨?",opts:["B·ªánh v·ªÅ tim m·∫°ch","B√©o ph√¨","Ti·ªÉu ƒë∆∞·ªùng","R·ªëi lo·∫°n gi·∫•c ng·ªß"],ans:0},
  {topic:"Health",q:"H·∫≠u qu·∫£ c·ªßa th√≥i quen x·∫•u ƒë·ªëi v·ªõi c√¥ng vi·ªác/h·ªçc t·∫≠p?",opts:["Can not focus on work or study","Perform better at school","Have more energy","Be more productive"],ans:0},
  // ENVIRONMENT (36-44)
  {topic:"Environment",q:"Th√≥i quen t·ªët n√†o gi√∫p b·∫£o v·ªá m√¥i tr∆∞·ªùng?",opts:["Reuse and recycle products","Exploit natural resources","Increase greenhouse gas emissions","Pollute the environment"],ans:0},
  {topic:"Environment",q:"'Consume less energy' nghƒ©a l√† g√¨?",opts:["Ti√™u th·ª• √≠t nƒÉng l∆∞·ª£ng / ti·∫øt ki·ªám nƒÉng l∆∞·ª£ng","Ti√™u th·ª• nhi·ªÅu nƒÉng l∆∞·ª£ng","S·∫£n xu·∫•t nƒÉng l∆∞·ª£ng","L√£ng ph√≠ nƒÉng l∆∞·ª£ng"],ans:0},
  {topic:"Environment",q:"Ph√¢n lo·∫°i r√°c trong ti·∫øng Anh l√† g√¨?",opts:["Sort trash","Throw trash everywhere","Burn trash","Bury trash"],ans:0},
  {topic:"Environment",q:"L·ª£i √≠ch c·ªßa vi·ªác b·∫£o v·ªá m√¥i tr∆∞·ªùng?",opts:["Conserve natural resources, reduce pollution","Increase greenhouse gas emissions","Exploit natural resources","Cause global warming"],ans:0},
  {topic:"Environment",q:"'Tackle some causes of global warming' c√≥ nghƒ©a l√†?",opts:["Gi·∫£i quy·∫øt nguy√™n nh√¢n g√¢y n√≥ng l√™n to√†n c·∫ßu","G√¢y ra n√≥ng l√™n to√†n c·∫ßu","TƒÉng kh√≠ th·∫£i nh√† k√≠nh","Khai th√°c t√†i nguy√™n thi√™n nhi√™n"],ans:0},
  {topic:"Environment",q:"V·∫•n ƒë·ªÅ m√¥i tr∆∞·ªùng n√†o ƒë∆∞·ª£c nh·∫Øc ƒë·∫øn?",opts:["Cause global warming / climate change","Conserve natural resources","Reduce pollution","Use reusable products"],ans:0},
  {topic:"Environment",q:"'Exploit natural resources' c√≥ nghƒ©a l√†?",opts:["Khai th√°c t√†i nguy√™n thi√™n nhi√™n","B·∫£o t·ªìn t√†i nguy√™n thi√™n nhi√™n","Ti·∫øt ki·ªám nƒÉng l∆∞·ª£ng","T√°i ch·∫ø s·∫£n ph·∫©m"],ans:0},
  {topic:"Environment",q:"'Greenhouse gas emissions' nghƒ©a l√† g√¨?",opts:["Kh√≠ th·∫£i nh√† k√≠nh","Kh√≠ t·ª± nhi√™n","Kh√¥ng kh√≠ trong l√†nh","NƒÉng l∆∞·ª£ng t√°i t·∫°o"],ans:0},
  {topic:"Environment",q:"D√πng s·∫£n ph·∫©m t√°i s·ª≠ d·ª•ng trong ti·∫øng Anh n√≥i th·∫ø n√†o?",opts:["Use more reusable products","Use more disposable products","Throw away products","Buy new products only"],ans:0},
  // HOBBIES (45-53)
  {topic:"Hobbies",q:"T·ª´ ƒë·ªìng nghƒ©a c·ªßa 'hobbies' l√† g√¨?",opts:["Free time activities / leisure activities","Work duties / job tasks","School subjects / courses","Health problems / diseases"],ans:0},
  {topic:"Hobbies",q:"S·ªü th√≠ch mang l·∫°i l·ª£i √≠ch g√¨?",opts:["Bring happiness, reduce stress, develop creativity","Increase stress","Make people lazier","Cause health problems"],ans:0},
  {topic:"Hobbies",q:"Nh∆∞·ª£c ƒëi·ªÉm c·ªßa ch∆°i game b·∫°o l·ª±c?",opts:["Increase aggressive feelings, thoughts and behaviors","Bring happiness to family","Develop cognitive skills","Broaden knowledge"],ans:0},
  {topic:"Hobbies",q:"Gi·∫£i ph√°p n√†o gi√∫p h·∫°n ch·∫ø t√°c h·∫°i c·ªßa game?",opts:["Set limits on the length of time for playing","Play more violent games","Do not go to school","Stay at home all day"],ans:0},
  {topic:"Hobbies",q:"'Broaden the knowledge' nghƒ©a l√† g√¨?",opts:["M·ªü r·ªông ki·∫øn th·ª©c","Thu h·∫πp ki·∫øn th·ª©c","Qu√™n ki·∫øn th·ª©c","B·ªè qua ki·∫øn th·ª©c"],ans:0},
  {topic:"Hobbies",q:"'Develop the cognitive skills' nghƒ©a l√†?",opts:["Ph√°t tri·ªÉn k·ªπ nƒÉng nh·∫≠n th·ª©c","Gi·∫£m k·ªπ nƒÉng t∆∞ duy","M·∫•t t·∫≠p trung","L∆∞·ªùi bi·∫øng h∆°n"],ans:0},
  {topic:"Hobbies",q:"Ch∆°i game qu√° nhi·ªÅu ·∫£nh h∆∞·ªüng ƒë·∫øn h·ªçc t·∫≠p th·∫ø n√†o?",opts:["Not focus on duties ‚Äì perform worse at school","Get better grades","Improve concentration","Become more diligent"],ans:0},
  {topic:"Hobbies",q:"C√°c m√¥n th·ªÉ thao n√†o ƒë∆∞·ª£c nh·∫Øc ƒë·∫øn?",opts:["Swimming, tennis, table tennis, football","Chess, poker, cards","Cooking, baking, gardening","Painting, drawing, sculpting"],ans:0},
  {topic:"Hobbies",q:"'Reduce the stress of everyday hard work' nghƒ©a l√†?",opts:["Gi·∫£m cƒÉng th·∫≥ng t·ª´ c√¥ng vi·ªác h√†ng ng√†y","TƒÉng cƒÉng th·∫≥ng","Th√™m √°p l·ª±c c√¥ng vi·ªác","L√†m vi·ªác nhi·ªÅu h∆°n"],ans:0},
  // JOB/STUDY (54-62)
  {topic:"Job/Study",q:"C√°ch gi·ªõi thi·ªáu b·∫£n th√¢n v·ªÅ c√¥ng vi·ªác?",opts:["I work as an accountant for ABC company","I like playing games","I live in the countryside","I eat healthy food"],ans:0},
  {topic:"Job/Study",q:"'I am in charge of...' nghƒ©a l√† g√¨?",opts:["T√¥i ph·ª• tr√°ch / ch·ªãu tr√°ch nhi·ªám v·ªÅ...","T√¥i kh√¥ng quan t√¢m ƒë·∫øn...","T√¥i t·ª´ ch·ªëi...","T√¥i qu√™n m·∫•t..."],ans:0},
  {topic:"Job/Study",q:"Nhi·ªám v·ª• h·ªçc t·∫≠p bao g·ªìm?",opts:["Do homework, make presentations, join clubs","Working with clients","Solving clients problems","Contacting partners"],ans:0},
  {topic:"Job/Study",q:"ƒêi·ªÅu g√¨ KH√îNG TH√çCH v·ªÅ c√¥ng vi·ªác?",opts:["Work overtime ‚Äì less time for family and friends","Have opportunities for promotion","Co-workers are friendly","Have environment to develop skills"],ans:0},
  {topic:"Job/Study",q:"'Have opportunities for promotion' nghƒ©a ti·∫øng Vi·ªát?",opts:["C√≥ c∆° h·ªôi thƒÉng ti·∫øn","C√≥ c∆° h·ªôi du l·ªãch","C√≥ c∆° h·ªôi ngh·ªâ ng∆°i","C√≥ c∆° h·ªôi chuy·ªÉn vi·ªác"],ans:0},
  {topic:"Job/Study",q:"Khi kh·ªëi l∆∞·ª£ng c√¥ng vi·ªác l·ªõn, b·∫°n c·∫£m th·∫•y th·∫ø n√†o?",opts:["Feel tired / overloaded","Feel relaxed and happy","Feel excited","Feel nothing"],ans:0},
  {topic:"Job/Study",q:"ƒêi·ªÅu th√≠ch ·ªü c√¥ng vi·ªác/h·ªçc t·∫≠p?",opts:["Apply knowledge, friendly co-workers, promotion","The company is far from home","The workload is huge","Have to work overtime"],ans:0},
  {topic:"Job/Study",q:"'Collaborate with other departments' nghƒ©a l√†?",opts:["H·ª£p t√°c v·ªõi c√°c ph√≤ng ban kh√°c","C·∫°nh tranh v·ªõi ƒë·ªìng nghi·ªáp","L√†m vi·ªác m·ªôt m√¨nh","Ngh·ªâ vi·ªác"],ans:0},
  {topic:"Job/Study",q:"Sinh vi√™n th∆∞·ªùng l√†m g√¨ v√†o cu·ªëi tu·∫ßn?",opts:["Do part-time jobs at the weekends","Work overtime at the office","Attend business meetings","Contact partners"],ans:0},
  // CRIME (63-70)
  {topic:"Crime",q:"Nguy√™n nh√¢n n√†o d·∫´n ƒë·∫øn t·ªôi ph·∫°m ·ªü tr·∫ª em?",opts:["Not be nurtured with love, care and support","Have too many hobbies","Study too hard","Exercise too much"],ans:0},
  {topic:"Crime",q:"T·∫°i sao tr·∫ª em thi·∫øu s·ª± quan t√¢m c·ªßa cha m·∫π?",opts:["Parents are too busy with work","Parents are too strict","Parents give too much love","Parents are always at home"],ans:0},
  {topic:"Crime",q:"Ngh√®o ƒë√≥i d·∫´n ƒë·∫øn t·ªôi ph·∫°m v√¨ sao?",opts:["Not have enough means to secure a living","Have too much money","Have many career opportunities","Life is too comfortable"],ans:0},
  {topic:"Crime",q:"Gi·∫£i ph√°p cho cha m·∫π ƒë·ªÉ ngƒÉn ng·ª´a t·ªôi ph·∫°m?",opts:["Spend more time with children, control activities","Let children do whatever they want","Give children more money","Do not care about children"],ans:0},
  {topic:"Crime",q:"'Rehabilitation center' l√† g√¨?",opts:["Trung t√¢m c·∫£i t·∫°o / ph·ª•c h·ªìi","Trung t√¢m th∆∞∆°ng m·∫°i","Trung t√¢m gi·∫£i tr√≠","Trung t√¢m th·ªÉ thao"],ans:0},
  {topic:"Crime",q:"T·∫°i trung t√¢m c·∫£i t·∫°o, ph·∫°m nh√¢n ƒë∆∞·ª£c g√¨?",opts:["Learn to behave well, get vocational training","Play games all day","Watch movies","Do nothing"],ans:0},
  {topic:"Crime",q:"'Get access to many violent games' g√¢y h·∫≠u qu·∫£ g√¨?",opts:["Copy bad things on the internet","Develop creativity","Broaden knowledge","Improve social skills"],ans:0},
  {topic:"Crime",q:"'Vocational training' nghƒ©a l√† g√¨?",opts:["ƒê√†o t·∫°o ngh·ªÅ","ƒê√†o t·∫°o ƒë·∫°i h·ªçc","ƒê√†o t·∫°o qu√¢n s·ª±","ƒê√†o t·∫°o th·ªÉ thao"],ans:0},
  // HOUSE/FLAT (71-77)
  {topic:"House/Flat",q:"C√°c ph√≤ng trong nh√† bao g·ªìm?",opts:["Living room, bedroom, bathroom, garden, garage","Classroom, library, laboratory","Office, meeting room, reception","Factory, warehouse, workshop"],ans:0},
  {topic:"House/Flat",q:"T·ª´ 'stuffy' (ng·ªôt ng·∫°t) m√¥ t·∫£ cƒÉn nh√† th·∫ø n√†o?",opts:["Kh√¥ng kh√≠ ng·ªôt ng·∫°t, thi·∫øu th√¥ng tho√°ng","R·ªông r√£i, tho√°ng m√°t","ƒê·∫πp, xinh x·∫Øn","Y√™n tƒ©nh, b√¨nh y√™n"],ans:0},
  {topic:"House/Flat",q:"'Cramped' trong ti·∫øng Vi·ªát nghƒ©a l√†?",opts:["Ch·∫≠t ch·ªôi","R·ªông r√£i","Tho√°ng m√°t","Sang tr·ªçng"],ans:0},
  {topic:"House/Flat",q:"'Drafty' nghƒ©a ti·∫øng Vi·ªát l√† g√¨?",opts:["Nhi·ªÅu gi√≥ l√πa","Ng·ªôt ng·∫°t","Ch·∫≠t ch·ªôi","R·ªông r√£i"],ans:0},
  {topic:"House/Flat",q:"N·ªôi th·∫•t trong nh√† bao g·ªìm?",opts:["Table, TV, sofa, bookshelf, bed, wardrobe","Trees, flowers, grass","Cars, bikes, buses","Books, pens, papers"],ans:0},
  {topic:"House/Flat",q:"Ho·∫°t ƒë·ªông trong v∆∞·ªùn l√† g√¨?",opts:["Grow plants and flowers","Watch TV","Read books","Welcome guests"],ans:0},
  {topic:"House/Flat",q:"T√≠nh t·ª´ t√≠ch c·ª±c m√¥ t·∫£ ng√¥i nh√†?",opts:["Large, spacious, quiet, peaceful, beautiful","Stuffy, drafty, cramped","Noisy, dirty, ugly","Small, dark, cold"],ans:0},
  // TECHNOLOGY (78-84)
  {topic:"Technology",q:"∆Øu ƒëi·ªÉm c·ªßa c√¥ng ngh·ªá?",opts:["Perform faster and more efficiently","Make people lazier","Increase unemployment rate","Have less social interactions"],ans:0},
  {topic:"Technology",q:"'Make people lazier' l√† ∆∞u ƒëi·ªÉm hay nh∆∞·ª£c ƒëi·ªÉm?",opts:["Nh∆∞·ª£c ƒëi·ªÉm (Disadvantage)","∆Øu ƒëi·ªÉm (Advantage)","Gi·∫£i ph√°p (Solution)","L·ª£i √≠ch (Benefit)"],ans:0},
  {topic:"Technology",q:"Ph·ª• thu·ªôc qu√° nhi·ªÅu v√†o m√°y m√≥c d·∫´n ƒë·∫øn?",opts:["Refuse to do tasks by hand","Work faster and more efficiently","Be more creative","Have better social skills"],ans:0},
  {topic:"Technology",q:"Gi·∫£i ph√°p cho v·∫•n ƒë·ªÅ c√¥ng ngh·ªá?",opts:["Join social activities, take training courses","Use more technology","Stay at home all day","Avoid all machines"],ans:0},
  {topic:"Technology",q:"'Increase the unemployment rate' nghƒ©a l√†?",opts:["TƒÉng t·ª∑ l·ªá th·∫•t nghi·ªáp","Gi·∫£m t·ª∑ l·ªá th·∫•t nghi·ªáp","T·∫°o th√™m vi·ªác l√†m","C·∫£i thi·ªán thu nh·∫≠p"],ans:0},
  {topic:"Technology",q:"Ho·∫°t ƒë·ªông x√£ h·ªôi n√†o gi√∫p gi·∫£m t√°c h·∫°i c√¥ng ngh·ªá?",opts:["Team building, picnic, party","Play more video games","Use social media more","Watch more TV"],ans:0},
  {topic:"Technology",q:"'Raise the sense of responsibility' nghƒ©a l√†?",opts:["N√¢ng cao √Ω th·ª©c tr√°ch nhi·ªám","Gi·∫£m tr√°ch nhi·ªám","T·ª´ ch·ªëi tr√°ch nhi·ªám","Kh√¥ng quan t√¢m"],ans:0},
  // LANGUAGES (85-91)
  {topic:"Languages",q:"H·ªçc ngo·∫°i ng·ªØ gi√∫p g√¨ khi ƒëi du l·ªãch?",opts:["Feel more confident ‚Äì talk easily with foreigners","Feel more tired","Spend more money","Get lost easily"],ans:0},
  {topic:"Languages",q:"T·∫°i sao c·∫ßn h·ªçc ti·∫øng Anh ƒë·ªÉ ti·∫øp c·∫≠n ki·∫øn th·ª©c?",opts:["Many books are written in English","All books are in Vietnamese","No books exist in English","English is not important"],ans:0},
  {topic:"Languages",q:"H·ªçc ngo·∫°i ng·ªØ gi√∫p hi·ªÉu bi·∫øt th√™m v·ªÅ?",opts:["Culture, people, society, customs and traditions","Mathematics and physics","Computer programming","Cooking recipes"],ans:0},
  {topic:"Languages",q:"'Work and do business without an interpreter' nghƒ©a l√†?",opts:["L√†m vi·ªác kinh doanh kh√¥ng c·∫ßn phi√™n d·ªãch","L√†m vi·ªác c·∫ßn nhi·ªÅu phi√™n d·ªãch","Kh√¥ng th·ªÉ l√†m vi·ªác","Ch·ªâ d√πng ng√¥n ng·ªØ m·∫π ƒë·∫ª"],ans:0},
  {topic:"Languages",q:"'Open a new door to the world' l√† c√°ch n√≥i ·∫©n d·ª• nghƒ©a l√†?",opts:["M·ªü ra c∆° h·ªôi m·ªõi cho th·∫ø gi·ªõi","M·ªü c·ª≠a ra ngo√†i","ƒê√≥ng c·ª≠a l·∫°i","Kh√≥a c·ª≠a"],ans:0},
  {topic:"Languages",q:"H·ªçc ngo·∫°i ng·ªØ gi√∫p k·∫øt b·∫°n th·∫ø n√†o?",opts:["Become friends with many people around the world","Only make friends in your country","Lose all friends","Have fewer friends"],ans:0},
  {topic:"Languages",q:"L·ª£i √≠ch n√†o KH√îNG ƒë∆∞·ª£c nh·∫Øc ƒë·∫øn khi h·ªçc ngo·∫°i ng·ªØ?",opts:["Ki·∫øm ƒë∆∞·ª£c nhi·ªÅu ti·ªÅn h∆°n (earn more money)","T·ª± tin h∆°n khi du l·ªãch","K·∫øt b·∫°n qu·ªëc t·∫ø","Hi·ªÉu vƒÉn h√≥a n∆∞·ªõc kh√°c"],ans:0},
  // MACHINE (92-96)
  {topic:"Machine",q:"M√°y t√≠nh gi√∫p h·ªçc t·∫≠p th·∫ø n√†o?",opts:["Read newspapers online, download info, learn online","Play games all day","Watch movies only","Chat with friends only"],ans:0},
  {topic:"Machine",q:"M√°y t√≠nh ti·ªán l·ª£i cho c√¥ng vi·ªác v√¨?",opts:["Work faster ‚Äì typing, printing, storing data","Make people lazy","Cause health problems","Waste time"],ans:0},
  {topic:"Machine",q:"M√°y t√≠nh gi·∫£i tr√≠ b·∫±ng c√°ch n√†o?",opts:["Play games, listen to music, watch movies, join forums","Only for work","Only for studying","Only for reading news"],ans:0},
  {topic:"Machine",q:"'Storing data' nghƒ©a l√† g√¨?",opts:["L∆∞u tr·ªØ d·ªØ li·ªáu","X√≥a d·ªØ li·ªáu","In t√†i li·ªáu","G√µ vƒÉn b·∫£n"],ans:0},
  {topic:"Machine",q:"M·∫°ng x√£ h·ªôi gi√∫p g√¨?",opts:["Join forums, groups to share ideas and information","Avoid all social contacts","Delete all information","Never share anything"],ans:0},
  // DESCRIBE A PERSON (97-103)
  {topic:"Person",q:"T·ª´ n√†o m√¥ t·∫£ ngo·∫°i h√¨nh?",opts:["Tall, short, medium-height, middle-aged","Sincere, generous, helpful","Talkative, selfish, awful","Friendly, sociable, polite"],ans:0},
  {topic:"Person",q:"'Generous' trong ti·∫øng Vi·ªát nghƒ©a l√†?",opts:["H√†o ph√≥ng","√çch k·ª∑","Th·∫≠t th√†","N√≥i nhi·ªÅu"],ans:0},
  {topic:"Person",q:"'Selfish' nghƒ©a ti·∫øng Vi·ªát l√† g√¨?",opts:["√çch k·ª∑","H√†o ph√≥ng","T·ªët b·ª•ng","Th√¢n thi·ªán"],ans:0},
  {topic:"Person",q:"'Sincere' ƒë·ªìng nghƒ©a v·ªõi t·ª´ n√†o?",opts:["Honest (th·∫≠t th√†)","Selfish (√≠ch k·ª∑)","Talkative (n√≥i nhi·ªÅu)","Awful (t·ªá h·∫°i)"],ans:0},
  {topic:"Person",q:"Ho·∫°t ƒë·ªông chung v·ªõi b·∫°n b√®?",opts:["Meet at coffee shop, go shopping, talk about life","Fight with each other","Ignore each other","Never meet"],ans:0},
  {topic:"Person",q:"C√°ch n√≥i v·ªÅ m·ªëi quan h·ªá l√¢u nƒÉm?",opts:["We have known each other for 10 years","We met yesterday","We do not know each other","We are strangers"],ans:0},
  {topic:"Person",q:"'Have a sunny smile' m√¥ t·∫£ ƒëi·ªÅu g√¨?",opts:["C√≥ n·ª• c∆∞·ªùi r·∫°ng r·ª°","C√≥ m√°i t√≥c d√†i","C√≥ th√¢n h√¨nh cao","C√≥ t√≠nh c√°ch x·∫•u"],ans:0},
  // HOLIDAY (104-110)
  {topic:"Holiday",q:"'The scenery is magnificent' nghƒ©a l√†?",opts:["Phong c·∫£nh tuy·ªát ƒë·∫πp / h√πng vƒ©","Phong c·∫£nh x·∫•u x√≠","Phong c·∫£nh b√¨nh th∆∞·ªùng","Kh√¥ng c√≥ phong c·∫£nh"],ans:0},
  {topic:"Holiday",q:"'Breathtaking views' nghƒ©a l√†?",opts:["C·∫£nh ƒë·∫πp ngo·∫°n m·ª•c, ngh·∫πt th·ªü","C·∫£nh bu·ªìn t·∫ª","C·∫£nh b√¨nh th∆∞·ªùng","C·∫£nh x·∫•u x√≠"],ans:0},
  {topic:"Holiday",q:"·∫®m th·ª±c ƒë·ªãa ph∆∞∆°ng ƒë∆∞·ª£c m√¥ t·∫£ th·∫ø n√†o?",opts:["Fresh and delicious but not expensive","Expensive and terrible","Boring and tasteless","Frozen and unhealthy"],ans:0},
  {topic:"Holiday",q:"H·∫£i s·∫£n n√†o ƒë∆∞·ª£c nh·∫Øc ƒë·∫øn?",opts:["Crab, lobsters, seashells","Chicken, pork, beef","Rice, noodles, bread","Fruits, vegetables, nuts"],ans:0},
  {topic:"Holiday",q:"Con ng∆∞·ªùi ·ªü n∆°i du l·ªãch c√≥ ƒë·∫∑c ƒëi·ªÉm g√¨?",opts:["Friendly, sociable, polite","Cold, unfriendly, rude","Dangerous, violent","Dishonest, selfish"],ans:0},
  {topic:"Holiday",q:"Ho·∫°t ƒë·ªông n√†o ·ªü bi·ªÉn?",opts:["Swim, sunbathing, play football, build sandcastles","Go skiing, snowboarding","Visit museums, galleries","Go hiking in the mountains"],ans:0},
  {topic:"Holiday",q:"'Do sunbathing on the soft sand beach' nghƒ©a l√†?",opts:["T·∫Øm n·∫Øng tr√™n b√£i c√°t m·ªãn","B∆°i trong h·ªì b∆°i","Leo n√∫i","ƒêi b·ªô trong r·ª´ng"],ans:0}
];

let quizCount = 20;
let quizStarted = false;

function shuffle(arr) {
  for (let i = arr.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
  return arr;
}

function buildQuiz() {
  const shuffled = shuffle([...quizBank]);
  quizQuestions = shuffled.slice(0, quizCount).map(q => {
    const correctText = q.opts[q.ans];
    const shuffledOpts = shuffle([...q.opts]);
    return { topic: q.topic, question: q.q, options: shuffledOpts, correct: correctText };
  });
  quizIdx = 0;
  quizScore = { correct: 0, wrong: 0 };
  quizStarted = true;
}

function renderQuiz(area) {
  if (!quizStarted) {
    const topicCounts = {};
    quizBank.forEach(q => { topicCounts[q.topic] = (topicCounts[q.topic]||0) + 1; });
    area.innerHTML = `
      <div class="quiz-container" style="text-align:center; padding-top:20px;">
        <div style="font-size:3rem; margin-bottom:12px;">üß†</div>
        <h2 style="font-family:'Playfair Display',serif; font-size:1.6rem; margin-bottom:8px;">Tr·∫Øc nghi·ªám VSTEP</h2>
        <p style="color:var(--text-dim); margin-bottom:28px; font-size:0.9rem;">Ng√¢n h√†ng <strong style="color:var(--accent)">${quizBank.length} c√¢u h·ªèi</strong> ‚Äî 14 ch·ªß ƒë·ªÅ</p>
        <div style="margin-bottom:28px;">
          <p style="font-weight:600; margin-bottom:12px;">Ch·ªçn s·ªë c√¢u h·ªèi:</p>
          <div style="display:flex; justify-content:center; gap:10px; flex-wrap:wrap;">
            ${[10,20,50,quizBank.length].map(n => `
              <button class="fc-btn ${quizCount===n?'primary':''}" onclick="quizCount=${n}; renderQuiz(document.getElementById('contentArea'))" style="min-width:70px;">
                ${n===quizBank.length?'T·∫•t c·∫£ ('+n+')':n+' c√¢u'}
              </button>
            `).join('')}
          </div>
        </div>
        <div style="background:var(--surface2); border-radius:16px; padding:20px; margin-bottom:28px; text-align:left; max-width:420px; margin-left:auto; margin-right:auto;">
          <p style="font-weight:600; margin-bottom:10px; font-size:0.85rem;">üìä Ph√¢n b·ªë ch·ªß ƒë·ªÅ:</p>
          <div style="display:grid; grid-template-columns:1fr 1fr; gap:4px 16px; font-size:0.8rem; color:var(--text-dim);">
            ${Object.entries(topicCounts).map(([t,c]) => `<div>‚Ä¢ ${t}: <strong style="color:var(--text)">${c}</strong></div>`).join('')}
          </div>
        </div>
        <button class="quiz-next" style="font-size:1rem; padding:14px 40px;" onclick="buildQuiz(); renderQuiz(document.getElementById('contentArea'))">B·∫Øt ƒë·∫ßu l√†m b√†i ‚Üí</button>
      </div>
    `;
    return;
  }

  if (quizIdx >= quizQuestions.length) {
    const pct = Math.round(quizScore.correct / quizQuestions.length * 100);
    let emoji = 'üéâ', msg = 'Xu·∫•t s·∫Øc!';
    if (pct < 50) { emoji = 'üòÖ'; msg = 'C·∫ßn √¥n th√™m!'; }
    else if (pct < 70) { emoji = 'üëç'; msg = 'Kh√° t·ªët!'; }
    else if (pct < 90) { emoji = 'üåü'; msg = 'Gi·ªèi l·∫Øm!'; }
    area.innerHTML = `
      <div class="quiz-container" style="text-align:center; padding-top:40px;">
        <div style="font-size:3rem; margin-bottom:12px;">${emoji}</div>
        <h2 style="font-family:'Playfair Display',serif; font-size:1.8rem; margin-bottom:24px;">${msg}</h2>
        <div class="quiz-score">
          <div class="quiz-score-item"><div class="num" style="color:var(--green)">${quizScore.correct}</div><div class="label">ƒê√∫ng</div></div>
          <div class="quiz-score-item"><div class="num" style="color:var(--red)">${quizScore.wrong}</div><div class="label">Sai</div></div>
          <div class="quiz-score-item"><div class="num" style="color:var(--accent)">${pct}%</div><div class="label">T·ª∑ l·ªá</div></div>
        </div>
        <div style="display:flex; gap:12px; justify-content:center; margin-top:20px; flex-wrap:wrap;">
          <button class="quiz-next" onclick="buildQuiz(); renderQuiz(document.getElementById('contentArea'))">L√†m l·∫°i üîÑ</button>
          <button class="fc-btn" onclick="quizStarted=false; renderQuiz(document.getElementById('contentArea'))">ƒê·ªïi c√†i ƒë·∫∑t ‚öôÔ∏è</button>
        </div>
      </div>
    `;
    return;
  }

  const q = quizQuestions[quizIdx];
  const progressPct = Math.round((quizIdx / quizQuestions.length) * 100);
  area.innerHTML = `
    <div class="quiz-container">
      <div style="background:var(--surface2); border-radius:100px; height:6px; margin-bottom:20px; overflow:hidden;">
        <div style="background:var(--accent); height:100%; width:${progressPct}%; border-radius:100px; transition:width 0.4s;"></div>
      </div>
      <div class="quiz-header">
        <div class="quiz-score">
          <div class="quiz-score-item"><div class="num" style="color:var(--green)">${quizScore.correct}</div><div class="label">ƒê√∫ng</div></div>
          <div class="quiz-score-item"><div class="num" style="color:var(--red)">${quizScore.wrong}</div><div class="label">Sai</div></div>
        </div>
      </div>
      <div class="quiz-question-card">
        <div class="quiz-q-number">C√¢u ${quizIdx + 1} / ${quizQuestions.length} ‚Äî ${q.topic}</div>
        <div class="quiz-q-text">${q.question}</div>
        <div class="quiz-options" id="quizOptions">
          ${q.options.map((opt, i) => `
            <button class="quiz-option" data-idx="${i}" onclick="answerQuiz(this)">${opt}</button>
          `).join('')}
        </div>
      </div>
    </div>
  `;
}

function answerQuiz(btn) {
  const q = quizQuestions[quizIdx];
  const selected = btn.textContent.trim();
  const isCorrect = selected === q.correct;
  const buttons = document.querySelectorAll('.quiz-option');
  buttons.forEach(b => {
    b.classList.add('disabled');
    b.onclick = null;
    if (b.textContent.trim() === q.correct) b.classList.add('correct');
  });
  if (!isCorrect) btn.classList.add('wrong');
  if (isCorrect) quizScore.correct++; else quizScore.wrong++;
  const card = document.querySelector('.quiz-question-card');
  card.insertAdjacentHTML('afterend', '<button class="quiz-next" onclick="quizIdx++; renderQuiz(document.getElementById(\'contentArea\'))">C√¢u ti·∫øp theo ‚Üí</button>');
}

// ===== INIT =====
buildTopicNav();
renderContent();
</script>
</body>
</html>
