<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VSTEP B1-B2 | 14 Ch·ªß ƒê·ªÅ T·ª´ V·ª±ng</title>
<link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;500;600;700;800;900&family=Playfair+Display:wght@700;800;900&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #f5f3ef;
  --surface: #ffffff;
  --surface2: #f0edea;
  --text: #1a1a2e;
  --text-dim: #6b7280;
  --accent: #e67e22;
  --accent2: #d35400;
  --green: #059669;
  --red: #dc2626;
  --blue: #2563eb;
  --purple: #7c3aed;
  --pink: #db2777;
  --cyan: #0891b2;
  --orange: #ea580c;
  --lime: #65a30d;
  --vn-color: #7c3aed;
}

* { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: smooth; }

body {
  font-family: 'Be Vietnam Pro', sans-serif;
  background: var(--bg);
  color: var(--text);
  min-height: 100vh;
  overflow-x: hidden;
}

.hero {
  position: relative;
  padding: 60px 24px 40px;
  text-align: center;
  overflow: hidden;
}

.hero::before {
  content: '';
  position: absolute;
  top: -50%; left: -50%;
  width: 200%; height: 200%;
  background: radial-gradient(ellipse at 30% 50%, rgba(230,126,34,0.1) 0%, transparent 50%),
              radial-gradient(ellipse at 70% 50%, rgba(37,99,235,0.06) 0%, transparent 50%);
  animation: aurora 15s ease-in-out infinite;
}

@keyframes aurora {
  0%, 100% { transform: translate(0,0) rotate(0deg); }
  33% { transform: translate(30px,-20px) rotate(1deg); }
  66% { transform: translate(-20px,20px) rotate(-1deg); }
}

.hero h1 {
  font-family: 'Playfair Display', serif;
  font-size: clamp(2.2rem, 6vw, 3.8rem);
  font-weight: 900;
  background: linear-gradient(135deg, var(--accent), #1a1a2e, var(--accent2));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  letter-spacing: -1px;
  position: relative;
  margin-bottom: 8px;
}

.hero .subtitle {
  font-size: 1rem;
  color: var(--text-dim);
  font-weight: 300;
  position: relative;
}

.hero .subtitle span { color: var(--accent); font-weight: 600; }

.mode-tabs {
  display: flex;
  justify-content: center;
  gap: 8px;
  padding: 16px 24px;
  position: sticky;
  top: 0;
  z-index: 100;
  background: rgba(245,243,239,0.92);
  backdrop-filter: blur(20px);
  border-bottom: 1px solid rgba(0,0,0,0.06);
}

.mode-tab {
  padding: 10px 20px;
  border: 1px solid rgba(0,0,0,0.1);
  border-radius: 100px;
  background: transparent;
  color: var(--text-dim);
  font-family: inherit;
  font-size: 0.85rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s;
}

.mode-tab:hover { border-color: var(--accent); color: var(--text); }
.mode-tab.active { background: var(--accent); color: #fff; border-color: var(--accent); font-weight: 700; }

.topic-nav {
  display: flex;
  gap: 8px;
  padding: 16px 24px;
  overflow-x: auto;
  scrollbar-width: none;
}
.topic-nav::-webkit-scrollbar { display: none; }

.topic-chip {
  flex-shrink: 0;
  padding: 8px 16px;
  border-radius: 100px;
  font-size: 0.8rem;
  font-weight: 500;
  cursor: pointer;
  border: 1px solid rgba(0,0,0,0.08);
  background: var(--surface);
  color: var(--text-dim);
  transition: all 0.3s;
  white-space: nowrap;
}

.topic-chip:hover { transform: translateY(-2px); border-color: rgba(0,0,0,0.15); }
.topic-chip.active { border-color: var(--accent); color: var(--accent); background: rgba(230,126,34,0.08); }

.content-area { max-width: 900px; margin: 0 auto; padding: 20px 24px 100px; }

/* STUDY */
.topic-section { margin-bottom: 48px; animation: fadeUp 0.5s ease; }
@keyframes fadeUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

.topic-header {
  display: flex; align-items: center; gap: 14px;
  margin-bottom: 24px; padding-bottom: 16px;
  border-bottom: 2px solid rgba(0,0,0,0.06);
}

.topic-icon {
  width: 48px; height: 48px; border-radius: 14px;
  display: flex; align-items: center; justify-content: center;
  font-size: 1.4rem; flex-shrink: 0; color: #fff;
}

.topic-title { font-family: 'Playfair Display', serif; font-size: 1.6rem; font-weight: 800; }
.topic-title-vn { font-size: 0.9rem; color: var(--vn-color); font-weight: 500; }

.branch {
  margin-bottom: 20px;
  background: var(--surface);
  border-radius: 16px;
  border: 1px solid rgba(0,0,0,0.06);
  overflow: hidden;
  transition: all 0.3s;
  box-shadow: 0 1px 8px rgba(0,0,0,0.04);
}
.branch:hover { border-color: rgba(0,0,0,0.12); box-shadow: 0 4px 20px rgba(0,0,0,0.06); }

.branch-header {
  padding: 14px 20px;
  font-weight: 700;
  font-size: 0.95rem;
  display: flex; align-items: center; gap: 10px;
}

.branch-header .tag {
  padding: 3px 10px; border-radius: 6px;
  font-size: 0.7rem; font-weight: 700;
  text-transform: uppercase; letter-spacing: 0.5px;
}

.branch-content { padding: 0 20px 16px; }

.item {
  position: relative;
  padding: 10px 0 10px 20px;
  font-size: 0.9rem;
  line-height: 1.7;
  color: var(--text);
  border-left: 2px solid rgba(0,0,0,0.06);
  transition: all 0.2s;
}

.item:hover { border-left-color: var(--accent); }

.item::before {
  content: '';
  position: absolute; left: -5px; top: 16px;
  width: 8px; height: 8px; border-radius: 50%;
  background: var(--surface2);
  border: 2px solid rgba(0,0,0,0.12);
}
.item:hover::before { border-color: var(--accent); background: var(--accent); }

.item .en { font-weight: 500; }

.item .vn {
  color: var(--vn-color);
  font-size: 0.84rem;
  font-style: italic;
  margin-top: 2px;
  display: block;
}

.sub-items { margin-top: 6px; padding-left: 16px; }

.sub-item {
  padding: 4px 0; font-size: 0.84rem;
  position: relative; padding-left: 14px;
}
.sub-item::before { content: '‚Üí'; position: absolute; left: 0; color: rgba(0,0,0,0.2); font-size: 0.75rem; }

.sub-item .sub-en { color: var(--text); }
.sub-item .sub-vn { color: var(--vn-color); font-style: italic; font-size: 0.8rem; }

/* FLASHCARD */
.flashcard-container {
  display: flex; flex-direction: column; align-items: center; gap: 24px; padding-top: 20px;
}

.flashcard-progress { font-size: 0.85rem; color: var(--text-dim); }
.flashcard-progress span { color: var(--accent); font-weight: 700; }

.fc-topic-filter {
  display: flex; gap: 8px; flex-wrap: wrap; justify-content: center; padding: 0 16px;
}

.fc-topic-btn {
  padding: 6px 14px; border-radius: 100px; font-size: 0.75rem;
  border: 1px solid rgba(0,0,0,0.1); background: var(--surface);
  color: var(--text-dim); cursor: pointer; font-family: inherit;
  transition: all 0.3s;
}
.fc-topic-btn:hover { border-color: var(--accent); }
.fc-topic-btn.active { background: var(--accent); color: #fff; border-color: var(--accent); }

.flashcard {
  width: 100%; max-width: 520px; min-height: 320px;
  perspective: 1000px; cursor: pointer;
}

.flashcard-inner {
  position: relative; width: 100%; min-height: 320px;
  transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  transform-style: preserve-3d;
}

.flashcard.flipped .flashcard-inner { transform: rotateY(180deg); }

.flashcard-front, .flashcard-back {
  position: absolute; inset: 0; backface-visibility: hidden;
  border-radius: 20px;
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  padding: 32px; text-align: center;
}

.flashcard-front {
  background: var(--surface);
  border: 1px solid rgba(0,0,0,0.08);
  box-shadow: 0 4px 24px rgba(0,0,0,0.06);
}

.flashcard-back {
  background: linear-gradient(145deg, #fff8f0, #fef3e2);
  border: 1px solid rgba(230,126,34,0.25);
  transform: rotateY(180deg);
  box-shadow: 0 4px 24px rgba(230,126,34,0.1);
}

.fc-label {
  font-size: 0.7rem; text-transform: uppercase; letter-spacing: 1.5px;
  color: var(--accent); margin-bottom: 8px; font-weight: 600;
}

.fc-branch-label {
  font-size: 0.75rem; color: var(--text-dim); margin-bottom: 16px;
  padding: 4px 12px; border-radius: 100px; background: rgba(0,0,0,0.04);
}

.fc-en {
  font-size: 1.25rem; font-weight: 700; line-height: 1.6; color: var(--text); margin-bottom: 8px;
}

.fc-vn {
  font-size: 1.1rem; color: var(--vn-color); font-style: italic; line-height: 1.6; margin-bottom: 16px;
}

.fc-details {
  text-align: left; width: 100%;
}

.fc-detail-item {
  padding: 6px 0; font-size: 0.88rem; line-height: 1.6;
  border-bottom: 1px solid rgba(0,0,0,0.04);
}

.fc-detail-item:last-child { border-bottom: none; }
.fc-detail-en { color: var(--text); font-weight: 500; }
.fc-detail-vn { color: var(--vn-color); font-size: 0.82rem; font-style: italic; }

.fc-hint { margin-top: 20px; font-size: 0.75rem; color: var(--text-dim); }

.flashcard-controls { display: flex; gap: 12px; }

.fc-btn {
  padding: 12px 28px; border-radius: 100px;
  border: 1px solid rgba(0,0,0,0.1); background: var(--surface);
  color: var(--text); font-family: inherit; font-size: 0.85rem;
  font-weight: 500; cursor: pointer; transition: all 0.3s;
}
.fc-btn:hover { border-color: var(--accent); }
.fc-btn.primary { background: var(--accent); color: #fff; border-color: var(--accent); font-weight: 700; }

/* QUIZ */
.quiz-container { max-width: 600px; margin: 0 auto; }
.quiz-header { text-align: center; margin-bottom: 32px; }
.quiz-score { display: flex; justify-content: center; gap: 32px; margin-bottom: 20px; }
.quiz-score-item { text-align: center; }
.quiz-score-item .num { font-size: 2rem; font-weight: 800; font-family: 'Playfair Display', serif; }
.quiz-score-item .label { font-size: 0.7rem; color: var(--text-dim); text-transform: uppercase; letter-spacing: 1px; }

.quiz-question-card {
  background: var(--surface); border-radius: 20px; padding: 32px;
  border: 1px solid rgba(0,0,0,0.06); margin-bottom: 20px;
  box-shadow: 0 2px 12px rgba(0,0,0,0.04);
}

.quiz-q-number { font-size: 0.7rem; text-transform: uppercase; letter-spacing: 1.5px; color: var(--accent); margin-bottom: 12px; font-weight: 600; }
.quiz-q-text { font-size: 1.1rem; font-weight: 600; margin-bottom: 24px; line-height: 1.6; }
.quiz-q-hint { font-size: 0.85rem; color: var(--vn-color); font-style: italic; margin-top: -16px; margin-bottom: 20px; }
.quiz-options { display: flex; flex-direction: column; gap: 10px; }

.quiz-option {
  padding: 14px 20px; border-radius: 12px;
  border: 1px solid rgba(0,0,0,0.08); background: var(--surface2);
  color: var(--text); font-family: inherit; font-size: 0.9rem;
  cursor: pointer; transition: all 0.3s; text-align: left; font-weight: 400;
}
.quiz-option:hover:not(.disabled) { border-color: var(--accent); background: rgba(230,126,34,0.05); }
.quiz-option.correct { border-color: var(--green); background: rgba(5,150,105,0.08); color: var(--green); font-weight: 600; }
.quiz-option.wrong { border-color: var(--red); background: rgba(220,38,38,0.08); color: var(--red); }
.quiz-option.disabled { cursor: default; opacity: 0.6; }

.quiz-next {
  display: block; margin: 20px auto 0;
  padding: 12px 32px; border-radius: 100px; border: none;
  background: var(--accent); color: #fff; font-family: inherit;
  font-size: 0.9rem; font-weight: 700; cursor: pointer; transition: all 0.3s;
}
.quiz-next:hover { transform: scale(1.05); }

/* TEXT */
.text-view { max-width: 800px; margin: 0 auto; }
.text-topic {
  margin-bottom: 36px; padding: 24px;
  background: var(--surface); border-radius: 16px;
  border: 1px solid rgba(0,0,0,0.06);
  box-shadow: 0 1px 8px rgba(0,0,0,0.04);
}
.text-topic h2 { font-family: 'Playfair Display', serif; font-size: 1.3rem; margin-bottom: 16px; padding-bottom: 12px; border-bottom: 1px solid rgba(0,0,0,0.06); }
.text-branch { margin-bottom: 12px; }
.text-branch h3 { font-size: 0.9rem; font-weight: 700; margin-bottom: 6px; display: inline-block; padding: 2px 10px; border-radius: 6px; }
.text-line { padding: 4px 0 4px 16px; font-size: 0.88rem; line-height: 1.8; color: var(--text); position: relative; }
.text-line::before { content: '‚Ä¢'; position: absolute; left: 0; color: var(--text-dim); }
.text-line .tvn { color: var(--vn-color); font-style: italic; font-size: 0.84rem; }
.text-sub { padding-left: 24px; color: var(--text-dim); font-size: 0.82rem; }
.text-sub::before { content: '‚Ü≥'; }

/* SEARCH */
.search-bar { max-width: 500px; margin: 0 auto 24px; position: relative; }
.search-bar input {
  width: 100%; padding: 14px 20px 14px 48px;
  border-radius: 100px; border: 1px solid rgba(0,0,0,0.08);
  background: var(--surface); color: var(--text);
  font-family: inherit; font-size: 0.9rem; outline: none; transition: border-color 0.3s;
}
.search-bar input:focus { border-color: var(--accent); }
.search-bar .search-icon { position: absolute; left: 18px; top: 50%; transform: translateY(-50%); color: var(--text-dim); font-size: 1rem; }

.hidden { display: none !important; }

@media (max-width: 600px) {
  .hero { padding: 40px 16px 24px; }
  .content-area { padding: 16px 16px 80px; }
  .branch-header { padding: 12px 16px; }
  .branch-content { padding: 0 16px 12px; }
  .flashcard-front, .flashcard-back { padding: 24px; }
  .quiz-question-card { padding: 24px; }
  .mode-tabs { gap: 4px; padding: 12px 16px; }
  .mode-tab { padding: 8px 14px; font-size: 0.78rem; }
}

.bg-yellow { background: linear-gradient(135deg, #fbbf24, #f59e0b); }
.bg-orange { background: linear-gradient(135deg, #fb923c, #ea580c); }
.bg-red { background: linear-gradient(135deg, #f87171, #dc2626); }
.bg-pink { background: linear-gradient(135deg, #f472b6, #db2777); }
.bg-purple { background: linear-gradient(135deg, #a78bfa, #7c3aed); }
.bg-blue { background: linear-gradient(135deg, #60a5fa, #2563eb); }
.bg-cyan { background: linear-gradient(135deg, #22d3ee, #0891b2); }
.bg-green { background: linear-gradient(135deg, #34d399, #059669); }
.bg-lime { background: linear-gradient(135deg, #a3e635, #65a30d); }
.bg-teal { background: linear-gradient(135deg, #2dd4bf, #0d9488); }

.tag-adv { background: rgba(5,150,105,0.12); color: var(--green); }
.tag-dis { background: rgba(220,38,38,0.1); color: var(--red); }
.tag-ben { background: rgba(37,99,235,0.1); color: var(--blue); }
.tag-draw { background: rgba(234,88,12,0.1); color: var(--orange); }
.tag-good { background: rgba(5,150,105,0.12); color: var(--green); }
.tag-bad { background: rgba(220,38,38,0.1); color: var(--red); }
.tag-sol { background: rgba(124,58,237,0.1); color: var(--purple); }
.tag-info { background: rgba(37,99,235,0.1); color: var(--blue); }
.tag-cause { background: rgba(234,88,12,0.1); color: var(--orange); }
.tag-like { background: rgba(5,150,105,0.12); color: var(--green); }
.tag-dislike { background: rgba(220,38,38,0.1); color: var(--red); }
.tag-prob { background: rgba(220,38,38,0.1); color: var(--red); }
</style>
</head>
<body>

<div class="hero">
  <h1>VSTEP B1-B2</h1>
  <p class="subtitle">Mindmap <span>14 ch·ªß ƒë·ªÅ</span> t·ª´ v·ª±ng th∆∞·ªùng g·∫∑p</p>
</div>

<div class="mode-tabs">
  <button class="mode-tab active" onclick="switchMode('study',this)">üìñ H·ªçc ch·ªß ƒë·ªÅ</button>
  <button class="mode-tab" onclick="switchMode('text',this)">üìù Text</button>
  <button class="mode-tab" onclick="switchMode('flashcard',this)">üÉè Flashcard</button>
  <button class="mode-tab" onclick="switchMode('quiz',this)">üß† Tr·∫Øc nghi·ªám</button>
</div>

<div class="topic-nav" id="topicNav"></div>
<div class="content-area" id="contentArea"></div>

<script>
const topics = [
  {
    id:"transport", name:"Transport", nameVn:"Giao th√¥ng", icon:"üöó", color:"bg-blue",
    branches:[
      { label:"Advantages", tag:"tag-adv", tagText:"∆ØU ƒêI·ªÇM", items:[
        { en:"Be safer", vn:"An to√†n h∆°n", subs:[{en:"Have fewer accidents", vn:"√çt tai n·∫°n h∆°n"}] },
        { en:"Never think about the weather", vn:"Kh√¥ng c·∫ßn lo v·ªÅ th·ªùi ti·∫øt", subs:[{en:"Rain, storm, sun, dark at night", vn:"M∆∞a, b√£o, n·∫Øng, t·ªëi tr·ªùi"},{en:"Avoid getting wet, dust", vn:"Tr√°nh b·ªã ∆∞·ªõt, b·ª•i"}] },
        { en:"Feel comfortable and relaxed", vn:"C·∫£m th·∫•y tho·∫£i m√°i v√† th∆∞ gi√£n", subs:[{en:"Listen to music", vn:"Nghe nh·∫°c"},{en:"Read books / take a nap", vn:"ƒê·ªçc s√°ch / ng·ªß tr∆∞a"}] },
        { en:"Be convenient and fast", vn:"Ti·ªán l·ª£i v√† nhanh ch√≥ng", subs:[{en:"Travel wherever I want and whenever I want", vn:"ƒêi b·∫•t c·ª© ƒë√¢u v√† b·∫•t c·ª© l√∫c n√†o t√¥i mu·ªën"}] }
      ]},
      { label:"Disadvantages", tag:"tag-dis", tagText:"NH∆Ø·ª¢C ƒêI·ªÇM", items:[
        { en:"Be inconvenient", vn:"B·∫•t ti·ªán", subs:[{en:"Run slowly ‚Üí transport infrastructure is in bad conditions", vn:"Ch·∫°y ch·∫≠m ‚Üí h·∫° t·∫ßng giao th√¥ng xu·ªëng c·∫•p"},{en:"Wait such a long time for the bus", vn:"ƒê·ª£i xe bu√Ωt r·∫•t l√¢u"}] },
        { en:"Have a higher chance of getting diseases", vn:"C√≥ nguy c∆° m·∫Øc b·ªánh cao h∆°n" },
        { en:"Be pretty crowded at rush hours", vn:"Kh√° ƒë√¥ng ƒë√∫c v√†o gi·ªù cao ƒëi·ªÉm" },
        { en:"Public transport systems are quite bad", vn:"H·ªá th·ªëng giao th√¥ng c√¥ng c·ªông kh√° t·ªá" }
      ]}
    ]
  },
  {
    id:"city", name:"City", nameVn:"Th√†nh ph·ªë", icon:"üèôÔ∏è", color:"bg-yellow",
    branches:[
      { label:"Places", tag:"tag-info", tagText:"ƒê·ªäA ƒêI·ªÇM", items:[
        { en:"Restaurants, cinemas, shopping malls, skyscrapers", vn:"Nh√† h√†ng, r·∫°p chi·∫øu phim, trung t√¢m th∆∞∆°ng m·∫°i, t√≤a nh√† ch·ªçc tr·ªùi" }
      ]},
      { label:"Disadvantages", tag:"tag-dis", tagText:"NH∆Ø·ª¢C ƒêI·ªÇM", items:[
        { en:"The city environment is heavily polluted", vn:"M√¥i tr∆∞·ªùng th√†nh ph·ªë b·ªã √¥ nhi·ªÖm n·∫∑ng", subs:[{en:"Have polluted air ‚Üí have fewer trees, rivers, mountains", vn:"Kh√¥ng kh√≠ √¥ nhi·ªÖm ‚Üí √≠t c√¢y xanh, s√¥ng, n√∫i"},{en:"The traffic is always heavy", vn:"Giao th√¥ng lu√¥n ƒë√¥ng ƒë√∫c"},{en:"The roads are in bad conditions", vn:"ƒê∆∞·ªùng x√° xu·ªëng c·∫•p"}] },
        { en:"The cost of living in the city is expensive", vn:"Chi ph√≠ sinh ho·∫°t ·ªü th√†nh ph·ªë ƒë·∫Øt ƒë·ªè", subs:[{en:"Spend more money", vn:"T·ªën nhi·ªÅu ti·ªÅn h∆°n"}] },
        { en:"City life is more dangerous", vn:"Cu·ªôc s·ªëng th√†nh ph·ªë nguy hi·ªÉm h∆°n", subs:[{en:"Have more crimes", vn:"Nhi·ªÅu t·ªôi ph·∫°m h∆°n"},{en:"City people are easily attracted by social evils ‚Üí drinking, drug, gambling", vn:"Ng∆∞·ªùi th√†nh ph·ªë d·ªÖ b·ªã h·∫•p d·∫´n b·ªüi t·ªá n·∫°n x√£ h·ªôi ‚Üí r∆∞·ª£u, ma t√∫y, c·ªù b·∫°c"}] }
      ]},
      { label:"Advantages", tag:"tag-adv", tagText:"∆ØU ƒêI·ªÇM", items:[
        { en:"City life is interesting", vn:"Cu·ªôc s·ªëng th√†nh ph·ªë th√∫ v·ªã", subs:[{en:"Have many entertainments ‚Üí restaurants, parks, cinemas", vn:"C√≥ nhi·ªÅu gi·∫£i tr√≠ ‚Üí nh√† h√†ng, c√¥ng vi√™n, r·∫°p phim"}] },
        { en:"City life is more convenient", vn:"Cu·ªôc s·ªëng th√†nh ph·ªë ti·ªán l·ª£i h∆°n", subs:[{en:"Live near hospitals, supermarkets, schools", vn:"S·ªëng g·∫ßn b·ªánh vi·ªán, si√™u th·ªã, tr∆∞·ªùng h·ªçc"}] },
        { en:"Have higher incomes", vn:"Thu nh·∫≠p cao h∆°n", subs:[{en:"Save more money", vn:"Ti·∫øt ki·ªám ƒë∆∞·ª£c nhi·ªÅu ti·ªÅn"},{en:"Buy what I like", vn:"Mua nh·ªØng g√¨ m√¨nh th√≠ch"}] },
        { en:"Have more career opportunities", vn:"C√≥ nhi·ªÅu c∆° h·ªôi ngh·ªÅ nghi·ªáp" }
      ]}
    ]
  },
  {
    id:"countryside", name:"Countryside", nameVn:"N√¥ng th√¥n", icon:"üåæ", color:"bg-cyan",
    branches:[
      { label:"Places", tag:"tag-info", tagText:"ƒê·ªäA ƒêI·ªÇM", items:[
        { en:"Rice fields, rivers, mountains", vn:"C√°nh ƒë·ªìng l√∫a, s√¥ng, n√∫i" }
      ]},
      { label:"Benefits", tag:"tag-ben", tagText:"L·ª¢I √çCH", items:[
        { en:"Bring me a clean environment", vn:"Mang ƒë·∫øn m√¥i tr∆∞·ªùng s·∫°ch s·∫Ω", subs:[{en:"Have fresher air ‚Üí enjoy the clean and fresh air", vn:"Kh√¥ng kh√≠ trong l√†nh h∆°n ‚Üí t·∫≠n h∆∞·ªüng kh√¥ng kh√≠ s·∫°ch"},{en:"Have many trees, rice fields, rivers", vn:"C√≥ nhi·ªÅu c√¢y xanh, c√°nh ƒë·ªìng, s√¥ng su·ªëi"}] },
        { en:"The cost of living is cheap", vn:"Chi ph√≠ sinh ho·∫°t r·∫ª", subs:[{en:"Save a lot of money", vn:"Ti·∫øt ki·ªám ƒë∆∞·ª£c nhi·ªÅu ti·ªÅn"}] },
        { en:"People are more friendly, opener", vn:"M·ªçi ng∆∞·ªùi th√¢n thi·ªán, c·ªüi m·ªü h∆°n", subs:[{en:"Live near each other", vn:"S·ªëng g·∫ßn nhau"},{en:"Meet and talk to each other everyday", vn:"G·∫∑p g·ª° v√† n√≥i chuy·ªán m·ªói ng√†y"}] }
      ]},
      { label:"Drawbacks", tag:"tag-draw", tagText:"H·∫†N CH·∫æ", items:[
        { en:"Have lower incomes", vn:"Thu nh·∫≠p th·∫•p h∆°n" },
        { en:"Life is boring", vn:"Cu·ªôc s·ªëng nh√†m ch√°n", subs:[{en:"Not have many places of conveniences and pleasures ‚Üí restaurants, public parks, cinemas, downtown boutiques", vn:"Kh√¥ng c√≥ nhi·ªÅu n∆°i ti·ªán √≠ch v√† gi·∫£i tr√≠ ‚Üí nh√† h√†ng, c√¥ng vi√™n, r·∫°p phim, c·ª≠a h√†ng"}] }
      ]}
    ]
  },
  {
    id:"health", name:"Health", nameVn:"S·ª©c kh·ªèe", icon:"ü©∫", color:"bg-purple",
    branches:[
      { label:"Good habits", tag:"tag-good", tagText:"TH√ìI QUEN T·ªêT", items:[
        { en:"Eat healthy food", vn:"ƒÇn th·ª±c ph·∫©m l√†nh m·∫°nh", subs:[{en:"Eat more fruits, fish, vegetables", vn:"ƒÇn nhi·ªÅu tr√°i c√¢y, c√°, rau"},{en:"Drink more water everyday", vn:"U·ªëng nhi·ªÅu n∆∞·ªõc m·ªói ng√†y"}] },
        { en:"Eat less meat and fat food, junk food", vn:"ƒÇn √≠t th·ªãt, ƒë·ªì b√©o, ƒë·ªì ƒÉn nhanh" },
        { en:"Exercise everyday", vn:"T·∫≠p th·ªÉ d·ª•c m·ªói ng√†y" },
        { en:"Have a regular health check-up", vn:"Kh√°m s·ª©c kh·ªèe ƒë·ªãnh k·ª≥", subs:[{en:"Visit a doctor regularly to find out any diseases soon", vn:"ƒêi kh√°m b√°c sƒ© th∆∞·ªùng xuy√™n ƒë·ªÉ ph√°t hi·ªán b·ªánh s·ªõm"}] }
      ]},
      { label:"Benefits of good habits", tag:"tag-ben", tagText:"L·ª¢I √çCH", items:[
        { en:"Stay healthy", vn:"Gi·ªØ g√¨n s·ª©c kh·ªèe" },
        { en:"Keep fit", vn:"Gi·ªØ d√°ng" },
        { en:"Have a better immune system", vn:"H·ªá mi·ªÖn d·ªãch t·ªët h∆°n" },
        { en:"Make us strong and relaxed", vn:"Gi√∫p ta kh·ªèe m·∫°nh v√† th∆∞ gi√£n" }
      ]},
      { label:"Bad habits", tag:"tag-bad", tagText:"TH√ìI QUEN X·∫§U", items:[
        { en:"Eat too much unhealthy food", vn:"ƒÇn qu√° nhi·ªÅu ƒë·ªì kh√¥ng l√†nh m·∫°nh", subs:[{en:"Fat food, junk food ‚Üí be fast and convenient, have affordable meals", vn:"ƒê·ªì b√©o, ƒë·ªì ƒÉn nhanh ‚Üí nhanh g·ªçn, gi√° r·∫ª"},{en:"Have various choices of foods and drinks", vn:"C√≥ nhi·ªÅu l·ª±a ch·ªçn ƒë·ªì ƒÉn th·ª©c u·ªëng"},{en:"Enjoy comfortable and formal atmosphere", vn:"T·∫≠n h∆∞·ªüng kh√¥ng gian tho·∫£i m√°i"}] },
        { en:"Eat too much meat, eat less vegetables, less fruits", vn:"ƒÇn qu√° nhi·ªÅu th·ªãt, √≠t rau, √≠t tr√°i c√¢y" },
        { en:"Don't exercise regularly", vn:"Kh√¥ng t·∫≠p th·ªÉ d·ª•c th∆∞·ªùng xuy√™n" },
        { en:"Don't have a regular health check-up", vn:"Kh√¥ng kh√°m s·ª©c kh·ªèe ƒë·ªãnh k·ª≥" }
      ]},
      { label:"Problems", tag:"tag-prob", tagText:"V·∫§N ƒê·ªÄ", items:[
        { en:"Increase the risk of health problems", vn:"TƒÉng nguy c∆° c√°c v·∫•n ƒë·ªÅ s·ª©c kh·ªèe" },
        { en:"Increase the cholesterol level in blood", vn:"TƒÉng m·ª©c cholesterol trong m√°u" },
        { en:"Can't focus on work or study", vn:"Kh√¥ng th·ªÉ t·∫≠p trung l√†m vi·ªác hay h·ªçc t·∫≠p" },
        { en:"It is easy to get tired and ill", vn:"D·ªÖ m·ªát m·ªèi v√† ·ªëm ƒëau" },
        { en:"Diseases: obesity, diabetes, heart disease, sleep disturbance, high blood pressure", vn:"B·ªánh: b√©o ph√¨, ti·ªÉu ƒë∆∞·ªùng, b·ªánh tim m·∫°ch, r·ªëi lo·∫°n gi·∫•c ng·ªß, cao huy·∫øt √°p" }
      ]}
    ]
  },
  {
    id:"environment", name:"Environment", nameVn:"M√¥i tr∆∞·ªùng", icon:"üåø", color:"bg-green",
    branches:[
      { label:"Good habits", tag:"tag-good", tagText:"TH√ìI QUEN T·ªêT", items:[
        { en:"Reuse and recycle products", vn:"T√°i s·ª≠ d·ª•ng v√† t√°i ch·∫ø s·∫£n ph·∫©m" },
        { en:"Consume less energy / save energy", vn:"Ti√™u th·ª• √≠t nƒÉng l∆∞·ª£ng / ti·∫øt ki·ªám nƒÉng l∆∞·ª£ng" },
        { en:"Sort trash", vn:"Ph√¢n lo·∫°i r√°c" },
        { en:"Use more reusable products", vn:"S·ª≠ d·ª•ng nhi·ªÅu s·∫£n ph·∫©m t√°i s·ª≠ d·ª•ng" }
      ]},
      { label:"Benefits", tag:"tag-ben", tagText:"L·ª¢I √çCH", items:[
        { en:"Protect the environment in the long term", vn:"B·∫£o v·ªá m√¥i tr∆∞·ªùng l√¢u d√†i" },
        { en:"Conserve natural resources", vn:"B·∫£o t·ªìn t√†i nguy√™n thi√™n nhi√™n" },
        { en:"Reduce levels of pollution", vn:"Gi·∫£m m·ª©c ƒë·ªô √¥ nhi·ªÖm" },
        { en:"Tackle some causes of global warming", vn:"Gi·∫£i quy·∫øt m·ªôt s·ªë nguy√™n nh√¢n n√≥ng l√™n to√†n c·∫ßu" }
      ]},
      { label:"Drawbacks (environmental problems)", tag:"tag-draw", tagText:"H·∫¨U QU·∫¢", items:[
        { en:"Cause global warming / climate change", vn:"G√¢y ra s·ª± n√≥ng l√™n to√†n c·∫ßu / bi·∫øn ƒë·ªïi kh√≠ h·∫≠u" },
        { en:"Pollute the environment", vn:"G√¢y √¥ nhi·ªÖm m√¥i tr∆∞·ªùng" },
        { en:"Exploit natural resources", vn:"Khai th√°c t√†i nguy√™n thi√™n nhi√™n" },
        { en:"Increase greenhouse gas emissions", vn:"TƒÉng l∆∞·ª£ng kh√≠ th·∫£i nh√† k√≠nh" }
      ]}
    ]
  },
  {
    id:"hobbies", name:"Hobbies", nameVn:"S·ªü th√≠ch", icon:"üéµ", color:"bg-yellow",
    branches:[
      { label:"Synonyms", tag:"tag-info", tagText:"T·ª™ ƒê·ªíNG NGHƒ®A", items:[
        { en:"Free time activities", vn:"Ho·∫°t ƒë·ªông th·ªùi gian r·∫£nh" },
        { en:"Leisure activities", vn:"Ho·∫°t ƒë·ªông gi·∫£i tr√≠" }
      ]},
      { label:"Types", tag:"tag-info", tagText:"PH√ÇN LO·∫†I", items:[
        { en:"Listening to music, reading books, watching films", vn:"Nghe nh·∫°c, ƒë·ªçc s√°ch, xem phim" },
        { en:"Playing sports: swimming, tennis, table tennis, football", vn:"Ch∆°i th·ªÉ thao: b∆°i, tennis, b√≥ng b√†n, b√≥ng ƒë√°" },
        { en:"Go jogging", vn:"Ch·∫°y b·ªô" },
        { en:"Go shopping", vn:"ƒêi mua s·∫Øm" }
      ]},
      { label:"Advantages", tag:"tag-adv", tagText:"∆ØU ƒêI·ªÇM", items:[
        { en:"Bring happiness to me and my family", vn:"Mang l·∫°i h·∫°nh ph√∫c cho t√¥i v√† gia ƒë√¨nh", subs:[{en:"Make me relaxed / feel much happier", vn:"Gi√∫p t√¥i th∆∞ gi√£n / vui v·∫ª h∆°n"}] },
        { en:"Talk and share the joy with others", vn:"N√≥i chuy·ªán v√† chia s·∫ª ni·ªÅm vui v·ªõi m·ªçi ng∆∞·ªùi" },
        { en:"Reduce the stress of everyday hard work and study", vn:"Gi·∫£m cƒÉng th·∫≥ng t·ª´ c√¥ng vi·ªác v√† h·ªçc t·∫≠p h√†ng ng√†y" },
        { en:"Develop imagination and creativity", vn:"Ph√°t tri·ªÉn tr√≠ t∆∞·ªüng t∆∞·ª£ng v√† s√°ng t·∫°o" },
        { en:"Broaden the knowledge", vn:"M·ªü r·ªông ki·∫øn th·ª©c" },
        { en:"Develop the cognitive skills", vn:"Ph√°t tri·ªÉn k·ªπ nƒÉng nh·∫≠n th·ª©c" }
      ]},
      { label:"Disadvantages (gaming)", tag:"tag-dis", tagText:"NH∆Ø·ª¢C ƒêI·ªÇM", items:[
        { en:"Games contain a great deal of violence", vn:"Tr√≤ ch∆°i ch·ª©a nhi·ªÅu b·∫°o l·ª±c" },
        { en:"Increase aggressive feelings, thoughts and behaviors", vn:"TƒÉng c·∫£m x√∫c, suy nghƒ© v√† h√†nh vi hung hƒÉng" },
        { en:"Not focus on their duties and study", vn:"Kh√¥ng t·∫≠p trung v√†o nhi·ªám v·ª• v√† h·ªçc t·∫≠p", subs:[{en:"Perform worse and worse at school", vn:"K·∫øt qu·∫£ h·ªçc t·∫≠p ng√†y c√†ng t·ªá"}] }
      ]},
      { label:"Solutions", tag:"tag-sol", tagText:"GI·∫¢I PH√ÅP", items:[
        { en:"Choose suitable computer games", vn:"Ch·ªçn tr√≤ ch∆°i m√°y t√≠nh ph√π h·ª£p" },
        { en:"Be not allowed to play violent games", vn:"Kh√¥ng ƒë∆∞·ª£c ph√©p ch∆°i game b·∫°o l·ª±c" },
        { en:"Set limits on the length of time for playing games", vn:"Gi·ªõi h·∫°n th·ªùi gian ch∆°i game" }
      ]}
    ]
  },
  {
    id:"job-study", name:"Job / Study", nameVn:"C√¥ng vi·ªác / H·ªçc t·∫≠p", icon:"üíº", color:"bg-red",
    branches:[
      { label:"Introduction", tag:"tag-info", tagText:"GI·ªöI THI·ªÜU", items:[
        { en:"I am a third-year student at the university of...", vn:"T√¥i l√† sinh vi√™n nƒÉm 3 tr∆∞·ªùng ƒë·∫°i h·ªçc..." },
        { en:"I work as an accountant for ABC company", vn:"T√¥i l√†m k·∫ø to√°n cho c√¥ng ty ABC" }
      ]},
      { label:"Duties - Study", tag:"tag-info", tagText:"NHI·ªÜM V·ª§ H·ªåC", items:[
        { en:"Do homework", vn:"L√†m b√†i t·∫≠p" },
        { en:"Make presentations", vn:"L√†m b√†i thuy·∫øt tr√¨nh" },
        { en:"Join clubs", vn:"Tham gia c√¢u l·∫°c b·ªô" },
        { en:"Do part-time jobs at the weekends", vn:"L√†m th√™m v√†o cu·ªëi tu·∫ßn" }
      ]},
      { label:"Duties - Work", tag:"tag-info", tagText:"NHI·ªÜM V·ª§ VI·ªÜC", items:[
        { en:"I am in charge of...", vn:"T√¥i ph·ª• tr√°ch...", subs:[{en:"Working with clients", vn:"L√†m vi·ªác v·ªõi kh√°ch h√†ng"},{en:"Solving clients' problems", vn:"Gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ c·ªßa kh√°ch"},{en:"Contacting partners", vn:"Li√™n h·ªá ƒë·ªëi t√°c"}] },
        { en:"Collaborate with other departments to run the business smoothly", vn:"Ph·ªëi h·ª£p v·ªõi c√°c ph√≤ng ban kh√°c ƒë·ªÉ v·∫≠n h√†nh c√¥ng vi·ªác tr∆°n tru" }
      ]},
      { label:"Opinion - Like", tag:"tag-like", tagText:"TH√çCH", items:[
        { en:"Apply the knowledge and skills of field I studied in my work", vn:"√Åp d·ª•ng ki·∫øn th·ª©c v√† k·ªπ nƒÉng ƒë√£ h·ªçc v√†o c√¥ng vi·ªác" },
        { en:"Have an environment to develop skills", vn:"C√≥ m√¥i tr∆∞·ªùng ph√°t tri·ªÉn k·ªπ nƒÉng" },
        { en:"Have opportunities for promotion", vn:"C√≥ c∆° h·ªôi thƒÉng ti·∫øn" },
        { en:"Co-workers are friendly and supportive", vn:"ƒê·ªìng nghi·ªáp th√¢n thi·ªán v√† h·ªó tr·ª£" }
      ]},
      { label:"Opinion - Dislike", tag:"tag-dislike", tagText:"KH√îNG TH√çCH", items:[
        { en:"Sometimes, I have to work overtime", vn:"ƒê√¥i khi ph·∫£i l√†m th√™m gi·ªù", subs:[{en:"Have less time for family and friends", vn:"√çt th·ªùi gian cho gia ƒë√¨nh v√† b·∫°n b√®"}] },
        { en:"The company is far from home", vn:"C√¥ng ty xa nh√†" },
        { en:"The workload is huge", vn:"Kh·ªëi l∆∞·ª£ng c√¥ng vi·ªác r·∫•t l·ªõn", subs:[{en:"Feel tired / overloaded", vn:"C·∫£m th·∫•y m·ªát m·ªèi / qu√° t·∫£i"}] }
      ]}
    ]
  },
  {
    id:"crime", name:"Crime", nameVn:"T·ªôi ph·∫°m", icon:"‚ö†Ô∏è", color:"bg-pink",
    branches:[
      { label:"Causes", tag:"tag-cause", tagText:"NGUY√äN NH√ÇN", items:[
        { en:"Not be nurtured with love, care and support", vn:"Kh√¥ng ƒë∆∞·ª£c nu√¥i d∆∞·ª°ng b·∫±ng t√¨nh y√™u th∆∞∆°ng, chƒÉm s√≥c", subs:[{en:"Parents are too busy with work", vn:"B·ªë m·∫π qu√° b·∫≠n r·ªôn v·ªõi c√¥ng vi·ªác"}] },
        { en:"Get access to many violent games", vn:"Ti·∫øp c·∫≠n nhi·ªÅu tr√≤ ch∆°i b·∫°o l·ª±c", subs:[{en:"Copy bad things on the internet", vn:"B·∫Øt ch∆∞·ªõc nh·ªØng ƒëi·ªÅu x·∫•u tr√™n m·∫°ng"}] },
        { en:"Poverty", vn:"Ngh√®o ƒë√≥i", subs:[{en:"Not have enough means to secure a living in the right ways ‚Üí commit crimes", vn:"Kh√¥ng ƒë·ªß ph∆∞∆°ng ti·ªán ki·∫øm s·ªëng ƒë√∫ng c√°ch ‚Üí ph·∫°m t·ªôi"},{en:"The easiest way to get what they want", vn:"C√°ch d·ªÖ nh·∫•t ƒë·ªÉ c√≥ ƒë∆∞·ª£c th·ª© m√¨nh mu·ªën"},{en:"Not require any skills or talents", vn:"Kh√¥ng c·∫ßn k·ªπ nƒÉng hay t√†i nƒÉng g√¨"}] }
      ]},
      { label:"Solutions", tag:"tag-sol", tagText:"GI·∫¢I PH√ÅP", items:[
        { en:"Parents should spend more time with children", vn:"B·ªë m·∫π n√™n d√†nh nhi·ªÅu th·ªùi gian h∆°n cho con", subs:[{en:"Control their activities and behaviors", vn:"Ki·ªÉm so√°t ho·∫°t ƒë·ªông v√† h√†nh vi"},{en:"Give advice to children", vn:"Cho con l·ªùi khuy√™n"},{en:"Prevent children from making mistakes", vn:"NgƒÉn con m·∫Øc sai l·∫ßm"}] },
        { en:"Punish those who commit a crime", vn:"Tr·ª´ng ph·∫°t nh·ªØng ng∆∞·ªùi ph·∫°m t·ªôi", subs:[{en:"Send criminals to a rehabilitation center", vn:"ƒê∆∞a t·ªôi ph·∫°m ƒë·∫øn trung t√¢m c·∫£i t·∫°o"},{en:"Learn how to behave well", vn:"H·ªçc c√°ch c∆∞ x·ª≠ ƒë√∫ng ƒë·∫Øn"},{en:"Get vocational training ‚Üí find a job later", vn:"ƒê∆∞·ª£c ƒë√†o t·∫°o ngh·ªÅ ‚Üí t√¨m vi·ªác sau n√†y"}] }
      ]}
    ]
  },
  {
    id:"house", name:"House / Flat", nameVn:"Nh√† ·ªü / CƒÉn h·ªô", icon:"üè†", color:"bg-pink",
    branches:[
      { label:"Rooms", tag:"tag-info", tagText:"C√ÅC PH√íNG", items:[
        { en:"Living room, bedroom, bathroom, garden, garage, balcony, toilet", vn:"Ph√≤ng kh√°ch, ph√≤ng ng·ªß, ph√≤ng t·∫Øm, v∆∞·ªùn, nh√† xe, ban c√¥ng, nh√† v·ªá sinh" }
      ]},
      { label:"Adjectives", tag:"tag-info", tagText:"T√çNH T·ª™", items:[
        { en:"Large, big, spacious", vn:"R·ªông l·ªõn, tho√°ng ƒë√£ng" },
        { en:"Quiet, peaceful", vn:"Y√™n tƒ©nh, b√¨nh y√™n" },
        { en:"Pretty, beautiful", vn:"Xinh x·∫Øn, ƒë·∫πp" },
        { en:"Stuffy", vn:"Ng·ªôt ng·∫°t" },
        { en:"Drafty", vn:"Nhi·ªÅu gi√≥ l√πa" },
        { en:"Cramped", vn:"Ch·∫≠t ch·ªôi" }
      ]},
      { label:"Furniture", tag:"tag-info", tagText:"N·ªòI TH·∫§T", items:[
        { en:"Table, TV, sofa, bookshelf, bed, wardrobe", vn:"B√†n, tivi, gh·∫ø sofa, k·ªá s√°ch, gi∆∞·ªùng, t·ªß qu·∫ßn √°o" }
      ]},
      { label:"Activities", tag:"tag-info", tagText:"HO·∫†T ƒê·ªòNG", items:[
        { en:"Grow plants and flowers in the garden", vn:"Tr·ªìng c√¢y v√† hoa trong v∆∞·ªùn" },
        { en:"Read books, watch TV, welcome guests in the living room", vn:"ƒê·ªçc s√°ch, xem tivi, ti·∫øp kh√°ch ·ªü ph√≤ng kh√°ch" }
      ]}
    ]
  },
  {
    id:"technology", name:"Technology", nameVn:"C√¥ng ngh·ªá", icon:"üì±", color:"bg-orange",
    branches:[
      { label:"Advantages", tag:"tag-adv", tagText:"∆ØU ƒêI·ªÇM", items:[
        { en:"Perform faster and more efficiently", vn:"L√†m vi·ªác nhanh v√† hi·ªáu qu·∫£ h∆°n" }
      ]},
      { label:"Disadvantages", tag:"tag-dis", tagText:"NH∆Ø·ª¢C ƒêI·ªÇM", items:[
        { en:"Have less social interactions", vn:"√çt t∆∞∆°ng t√°c x√£ h·ªôi h∆°n" },
        { en:"Make people lazier", vn:"Khi·∫øn con ng∆∞·ªùi l∆∞·ªùi bi·∫øng h∆°n", subs:[{en:"Depend too much on machines ‚Üí refuse to do tasks by hand", vn:"Ph·ª• thu·ªôc qu√° nhi·ªÅu v√†o m√°y m√≥c ‚Üí t·ª´ ch·ªëi l√†m vi·ªác b·∫±ng tay"}] },
        { en:"Increase the unemployment rate", vn:"TƒÉng t·ª∑ l·ªá th·∫•t nghi·ªáp" }
      ]},
      { label:"Solutions", tag:"tag-sol", tagText:"GI·∫¢I PH√ÅP", items:[
        { en:"Join social activities: team building, picnic, party", vn:"Tham gia ho·∫°t ƒë·ªông x√£ h·ªôi: team building, d√£ ngo·∫°i, ti·ªác" },
        { en:"Raise the sense of responsibility", vn:"N√¢ng cao √Ω th·ª©c tr√°ch nhi·ªám" },
        { en:"Take some programs or training courses to control modern machines", vn:"Tham gia c√°c ch∆∞∆°ng tr√¨nh ƒë√†o t·∫°o ƒë·ªÉ s·ª≠ d·ª•ng m√°y m√≥c hi·ªán ƒë·∫°i" },
        { en:"Update themselves with the development of science and technology", vn:"C·∫≠p nh·∫≠t b·∫£n th√¢n theo s·ª± ph√°t tri·ªÉn c·ªßa khoa h·ªçc v√† c√¥ng ngh·ªá" }
      ]}
    ]
  },
  {
    id:"languages", name:"Learning Foreign Languages", nameVn:"H·ªçc ngo·∫°i ng·ªØ", icon:"üåê", color:"bg-blue",
    branches:[
      { label:"Benefits", tag:"tag-ben", tagText:"L·ª¢I √çCH", items:[
        { en:"Helps us learn and get information in the world", vn:"Gi√∫p h·ªçc h·ªèi v√† ti·∫øp c·∫≠n th√¥ng tin tr√™n th·∫ø gi·ªõi", subs:[{en:"Many books are written in English", vn:"Nhi·ªÅu s√°ch ƒë∆∞·ª£c vi·∫øt b·∫±ng ti·∫øng Anh"}] },
        { en:"Helps us feel more confident when travelling abroad", vn:"Gi√∫p t·ª± tin h∆°n khi ƒëi du l·ªãch n∆∞·ªõc ngo√†i", subs:[{en:"Talk easily with foreigners", vn:"Giao ti·∫øp d·ªÖ d√†ng v·ªõi ng∆∞·ªùi n∆∞·ªõc ngo√†i"},{en:"Work and do business without an interpreter", vn:"L√†m vi·ªác v√† kinh doanh kh√¥ng c·∫ßn phi√™n d·ªãch"}] },
        { en:"Learn more about that country", vn:"T√¨m hi·ªÉu nhi·ªÅu h∆°n v·ªÅ ƒë·∫•t n∆∞·ªõc ƒë√≥", subs:[{en:"Culture, people, society, customs and traditions", vn:"VƒÉn h√≥a, con ng∆∞·ªùi, x√£ h·ªôi, phong t·ª•c t·∫≠p qu√°n"}] },
        { en:"Become friends with many people around the world", vn:"K·∫øt b·∫°n v·ªõi nhi·ªÅu ng∆∞·ªùi tr√™n th·∫ø gi·ªõi" },
        { en:"Open a new door to the world", vn:"M·ªü ra c√°nh c·ª≠a m·ªõi ƒë·∫øn th·∫ø gi·ªõi" }
      ]}
    ]
  },
  {
    id:"machine", name:"Machine (Computer/Internet)", nameVn:"M√°y t√≠nh / Internet", icon:"üíª", color:"bg-purple",
    branches:[
      { label:"Learning & Information", tag:"tag-ben", tagText:"H·ªåC T·∫¨P", items:[
        { en:"Be a good way of learning and getting information", vn:"L√† c√°ch t·ªët ƒë·ªÉ h·ªçc v√† l·∫•y th√¥ng tin", subs:[{en:"Read newspapers online", vn:"ƒê·ªçc b√°o tr·ª±c tuy·∫øn"},{en:"Download lots of information", vn:"T·∫£i nhi·ªÅu th√¥ng tin"},{en:"Learn online", vn:"H·ªçc tr·ª±c tuy·∫øn"}] }
      ]},
      { label:"Work & Study", tag:"tag-info", tagText:"C√îNG VI·ªÜC", items:[
        { en:"Be convenient for work, study", vn:"Ti·ªán l·ª£i cho c√¥ng vi·ªác, h·ªçc t·∫≠p", subs:[{en:"Work faster and more efficiently ‚Üí typing, printing documents, storing data", vn:"L√†m vi·ªác nhanh v√† hi·ªáu qu·∫£ h∆°n ‚Üí ƒë√°nh m√°y, in t√†i li·ªáu, l∆∞u tr·ªØ d·ªØ li·ªáu"}] }
      ]},
      { label:"Entertainment", tag:"tag-like", tagText:"GI·∫¢I TR√ç", items:[
        { en:"Be a good way to entertain", vn:"L√† c√°ch gi·∫£i tr√≠ t·ªët", subs:[{en:"Play games", vn:"Ch∆°i game"},{en:"Listen to music, watch movies", vn:"Nghe nh·∫°c, xem phim"},{en:"Join forums, Facebook groups to share ideas and information", vn:"Tham gia di·ªÖn ƒë√†n, nh√≥m Facebook ƒë·ªÉ chia s·∫ª √Ω t∆∞·ªüng"}] }
      ]}
    ]
  },
  {
    id:"person", name:"Describe a Person", nameVn:"M√¥ t·∫£ m·ªôt ng∆∞·ªùi", icon:"üë•", color:"bg-blue",
    branches:[
      { label:"Appearance", tag:"tag-info", tagText:"NGO·∫†I H√åNH", items:[
        { en:"Tall, short, old, young, medium-height, middle-aged", vn:"Cao, th·∫•p, gi√†, tr·∫ª, chi·ªÅu cao trung b√¨nh, trung ni√™n" },
        { en:"Beautiful, pretty, handsome, good-looking", vn:"ƒê·∫πp, xinh, ƒë·∫πp trai, ∆∞a nh√¨n" },
        { en:"Have short/long black hair", vn:"C√≥ t√≥c ƒëen ng·∫Øn/d√†i" },
        { en:"Have a sunny smile", vn:"C√≥ n·ª• c∆∞·ªùi r·∫°ng r·ª°" }
      ]},
      { label:"Characters - Good", tag:"tag-good", tagText:"T√çNH C√ÅCH T·ªêT", items:[
        { en:"Sincere = honest", vn:"Th·∫≠t th√†, ch√¢n th√†nh" },
        { en:"Helpful, kind, nice", vn:"Hay gi√∫p ƒë·ª°, t·ªët b·ª•ng, d·ªÖ th∆∞∆°ng" },
        { en:"Generous", vn:"H√†o ph√≥ng" }
      ]},
      { label:"Characters - Bad", tag:"tag-bad", tagText:"T√çNH C√ÅCH X·∫§U", items:[
        { en:"Talkative", vn:"N√≥i nhi·ªÅu" },
        { en:"Awful, terrible, bad", vn:"T·ªìi t·ªá, kinh kh·ªßng, x·∫•u" },
        { en:"Selfish", vn:"√çch k·ª∑" }
      ]},
      { label:"Relationship", tag:"tag-info", tagText:"M·ªêI QUAN H·ªÜ", items:[
        { en:"We have known each other for 10 years", vn:"Ch√∫ng t√¥i quen nhau 10 nƒÉm" },
        { en:"We first met at high school / at the company", vn:"Ch√∫ng t√¥i g·∫∑p nhau l·∫ßn ƒë·∫ßu ·ªü tr∆∞·ªùng c·∫•p 3 / c√¥ng ty" }
      ]},
      { label:"Common activities", tag:"tag-like", tagText:"HO·∫†T ƒê·ªòNG CHUNG", items:[
        { en:"Often meet at the coffee shop", vn:"Th∆∞·ªùng g·∫∑p nhau ·ªü qu√°n c√† ph√™" },
        { en:"Go shopping together", vn:"ƒêi mua s·∫Øm c√πng nhau" },
        { en:"Talk and share with each other about life, study, work, family...", vn:"N√≥i chuy·ªán v√† chia s·∫ª v·ªÅ cu·ªôc s·ªëng, h·ªçc t·∫≠p, c√¥ng vi·ªác, gia ƒë√¨nh..." }
      ]}
    ]
  },
  {
    id:"holiday", name:"Holiday", nameVn:"K·ª≥ ngh·ªâ", icon:"üèñÔ∏è", color:"bg-teal",
    branches:[
      { label:"Likes - Scenery", tag:"tag-like", tagText:"PHONG C·∫¢NH", items:[
        { en:"The scenery is magnificent", vn:"Phong c·∫£nh tuy·ªát ƒë·∫πp", subs:[{en:"There are breathtaking views of the mountains and rivers", vn:"C√≥ c·∫£nh n√∫i s√¥ng ngo·∫°n m·ª•c"},{en:"Enjoy fresh and pure air", vn:"T·∫≠n h∆∞·ªüng kh√¥ng kh√≠ trong l√†nh"}] }
      ]},
      { label:"Likes - Food", tag:"tag-like", tagText:"·∫®M TH·ª∞C", items:[
        { en:"The local cuisine is fresh and delicious but not expensive", vn:"·∫®m th·ª±c ƒë·ªãa ph∆∞∆°ng t∆∞∆°i ngon nh∆∞ng kh√¥ng ƒë·∫Øt", subs:[{en:"Have a variety of food ‚Üí crab, lobsters, seashells", vn:"C√≥ nhi·ªÅu lo·∫°i ƒë·ªì ƒÉn ‚Üí cua, t√¥m h√πm, s√≤"}] }
      ]},
      { label:"Likes - People", tag:"tag-like", tagText:"CON NG∆Ø·ªúI", items:[
        { en:"People are friendly, sociable, polite", vn:"M·ªçi ng∆∞·ªùi th√¢n thi·ªán, h√≤a ƒë·ªìng, l·ªãch s·ª±" }
      ]},
      { label:"Activities", tag:"tag-info", tagText:"HO·∫†T ƒê·ªòNG", items:[
        { en:"Swim in the blue and clear seawater", vn:"B∆°i trong n∆∞·ªõc bi·ªÉn xanh trong" },
        { en:"Do sunbathing on the soft sand beach under the yellow and warm sunshine", vn:"T·∫Øm n·∫Øng tr√™n b√£i c√°t m·ªÅm d∆∞·ªõi √°nh n·∫Øng ·∫•m √°p" },
        { en:"Play football on the beach", vn:"Ch∆°i b√≥ng ƒë√° tr√™n b√£i bi·ªÉn" },
        { en:"Build sandcastles on the beach", vn:"X√¢y l√¢u ƒë√†i c√°t tr√™n b√£i bi·ªÉn" },
        { en:"Watch the sunrise / sunset", vn:"Ng·∫Øm b√¨nh minh / ho√†ng h√¥n" }
      ]}
    ]
  }
];

// ===== STATE =====
let currentMode = 'study';
let currentTopicIdx = 0;
let fcIdx = 0, fcDeck = [], fcTopicFilter = 'all';
let quizIdx = 0, quizScore = {correct:0, wrong:0}, quizQuestions = [];

function buildTopicNav() {
  document.getElementById('topicNav').innerHTML = topics.map((t,i) =>
    `<div class="topic-chip ${i===currentTopicIdx?'active':''}" onclick="selectTopic(${i})">${t.icon} ${t.name}</div>`
  ).join('');
}

function selectTopic(idx) {
  currentTopicIdx = idx;
  buildTopicNav();
  if (currentMode === 'study' || currentMode === 'text') {
    const el = document.getElementById('topic-'+topics[idx].id);
    if (el) el.scrollIntoView({behavior:'smooth', block:'start'});
  } else if (currentMode === 'flashcard') {
    fcTopicFilter = topics[idx].id;
    buildFcDeck(); renderFlashcard();
  }
}

function switchMode(mode, btn) {
  currentMode = mode;
  document.querySelectorAll('.mode-tab').forEach(t=>t.classList.remove('active'));
  btn.classList.add('active');
  renderContent();
}

function renderContent() {
  const area = document.getElementById('contentArea');
  if (currentMode==='study') renderStudy(area);
  else if (currentMode==='text') renderText(area);
  else if (currentMode==='flashcard') { buildFcDeck(); renderFlashcard(); }
  else if (currentMode==='quiz') { buildQuiz(); renderQuiz(); }
}

// ===== STUDY MODE =====
function renderStudy(area) {
  area.innerHTML = `
    <div class="search-bar"><span class="search-icon">üîç</span>
      <input type="text" placeholder="T√¨m t·ª´ v·ª±ng ti·∫øng Anh ho·∫∑c ti·∫øng Vi·ªát..." oninput="filterStudy(this.value)">
    </div>
    <div id="studyContent">${topics.map(renderTopicSection).join('')}</div>`;
}

function renderTopicSection(t) {
  return `<div class="topic-section" id="topic-${t.id}">
    <div class="topic-header">
      <div class="topic-icon ${t.color}">${t.icon}</div>
      <div><div class="topic-title">${t.name}</div><div class="topic-title-vn">${t.nameVn}</div></div>
    </div>
    ${t.branches.map(b => `<div class="branch">
      <div class="branch-header"><span class="tag ${b.tag}">${b.tagText}</span>${b.label}</div>
      <div class="branch-content">
        ${b.items.map(item => `<div class="item" data-search="${item.en.toLowerCase()} ${item.vn.toLowerCase()} ${(item.subs||[]).map(s=>s.en+' '+s.vn).join(' ').toLowerCase()}">
          <span class="en">${item.en}</span>
          <span class="vn">${item.vn}</span>
          ${item.subs ? `<div class="sub-items">${item.subs.map(s => `<div class="sub-item"><span class="sub-en">${s.en}</span> ‚Äî <span class="sub-vn">${s.vn}</span></div>`).join('')}</div>` : ''}
        </div>`).join('')}
      </div>
    </div>`).join('')}
  </div>`;
}

function filterStudy(q) {
  q = q.toLowerCase().trim();
  document.querySelectorAll('.topic-section').forEach(sec => {
    let has = false;
    sec.querySelectorAll('.item').forEach(it => {
      const m = !q || it.dataset.search.includes(q);
      it.style.display = m?'':'none';
      if(m) has=true;
    });
    sec.style.display = (!q||has)?'':'none';
  });
}

// ===== TEXT MODE =====
function renderText(area) {
  area.innerHTML = `<div class="text-view">${topics.map(t => `
    <div class="text-topic" id="topic-${t.id}">
      <h2>${t.icon} ${t.name} ‚Äî ${t.nameVn}</h2>
      ${t.branches.map(b => `<div class="text-branch">
        <h3 class="${b.tag}">${b.tagText}: ${b.label}</h3>
        ${b.items.map(item => `
          <div class="text-line">${item.en} ‚Äî <span class="tvn">${item.vn}</span></div>
          ${(item.subs||[]).map(s => `<div class="text-line text-sub">${s.en} ‚Äî <span class="tvn">${s.vn}</span></div>`).join('')}
        `).join('')}
      </div>`).join('')}
    </div>`).join('')}</div>`;
}

// ===== FLASHCARD MODE =====
function buildFcDeck() {
  fcDeck = [];
  const src = fcTopicFilter==='all' ? topics : topics.filter(t=>t.id===fcTopicFilter);
  src.forEach(t => {
    t.branches.forEach(b => {
      b.items.forEach(item => {
        fcDeck.push({
          topicName: t.name, topicNameVn: t.nameVn, topicIcon: t.icon,
          branch: b.label, branchTag: b.tagText,
          en: item.en, vn: item.vn,
          subs: item.subs || []
        });
      });
    });
  });
  for (let i=fcDeck.length-1;i>0;i--) { const j=Math.floor(Math.random()*(i+1)); [fcDeck[i],fcDeck[j]]=[fcDeck[j],fcDeck[i]]; }
  fcIdx = 0;
}

function renderFlashcard() {
  const area = document.getElementById('contentArea');
  if (!fcDeck.length) { area.innerHTML = '<p style="text-align:center;color:var(--text-dim)">Kh√¥ng c√≥ th·∫ª n√†o.</p>'; return; }
  const c = fcDeck[fcIdx];
  area.innerHTML = `
    <div class="flashcard-container">
      <div class="fc-topic-filter">
        <button class="fc-topic-btn ${fcTopicFilter==='all'?'active':''}" onclick="fcTopicFilter='all';buildFcDeck();renderFlashcard()">T·∫•t c·∫£</button>
        ${topics.map(t=>`<button class="fc-topic-btn ${fcTopicFilter===t.id?'active':''}" onclick="fcTopicFilter='${t.id}';buildFcDeck();renderFlashcard()">${t.icon} ${t.nameVn}</button>`).join('')}
      </div>
      <div class="flashcard-progress">Th·∫ª <span>${fcIdx+1}</span> / ${fcDeck.length}</div>
      <div class="flashcard" id="flashcard" onclick="this.classList.toggle('flipped')">
        <div class="flashcard-inner">
          <div class="flashcard-front">
            <div class="fc-label">${c.topicIcon} ${c.topicName}</div>
            <div class="fc-branch-label">${c.branchTag}: ${c.branch}</div>
            <div class="fc-en">${c.en}</div>
            <div class="fc-hint">üëÜ Nh·∫•n ƒë·ªÉ xem nghƒ©a ti·∫øng Vi·ªát</div>
          </div>
          <div class="flashcard-back">
            <div class="fc-label">üáªüá≥ Nghƒ©a ti·∫øng Vi·ªát</div>
            <div class="fc-branch-label">${c.topicIcon} ${c.topicNameVn} ‚Äî ${c.branch}</div>
            <div class="fc-en" style="font-size:1rem;margin-bottom:4px;">${c.en}</div>
            <div class="fc-vn">${c.vn}</div>
            ${c.subs.length ? `<div class="fc-details">
              ${c.subs.map(s=>`<div class="fc-detail-item">
                <div class="fc-detail-en">‚Üí ${s.en}</div>
                <div class="fc-detail-vn">‚Üí ${s.vn}</div>
              </div>`).join('')}
            </div>` : ''}
          </div>
        </div>
      </div>
      <div class="flashcard-controls">
        <button class="fc-btn" onclick="fcIdx=(fcIdx-1+fcDeck.length)%fcDeck.length;renderFlashcard()">‚Üê Tr∆∞·ªõc</button>
        <button class="fc-btn" onclick="buildFcDeck();renderFlashcard()">üîÄ Tr·ªôn</button>
        <button class="fc-btn primary" onclick="fcIdx=(fcIdx+1)%fcDeck.length;renderFlashcard()">Ti·∫øp ‚Üí</button>
      </div>
    </div>`;
}

// ===== QUIZ MODE =====
function buildQuiz() {
  quizQuestions = [];
  // Type 1: EN ‚Üí VN
  const allItems = [];
  topics.forEach(t => t.branches.forEach(b => b.items.forEach(item => {
    allItems.push({topicName:t.name, en:item.en, vn:item.vn, subs:item.subs||[]});
  })));

  const shuffled = [...allItems].sort(()=>Math.random()-0.5);
  const picked = shuffled.slice(0, 15);

  picked.forEach(item => {
    const type = Math.random() > 0.5 ? 'en2vn' : 'vn2en';
    if (type === 'en2vn') {
      const correct = item.vn;
      const wrongs = allItems.filter(a=>a.vn!==item.vn).sort(()=>Math.random()-0.5).slice(0,3).map(a=>a.vn);
      const opts = [...wrongs, correct].sort(()=>Math.random()-0.5);
      quizQuestions.push({
        question: `"${item.en}" nghƒ©a ti·∫øng Vi·ªát l√† g√¨?`,
        topic: item.topicName, options: opts, correct
      });
    } else {
      const correct = item.en;
      const wrongs = allItems.filter(a=>a.en!==item.en).sort(()=>Math.random()-0.5).slice(0,3).map(a=>a.en);
      const opts = [...wrongs, correct].sort(()=>Math.random()-0.5);
      quizQuestions.push({
        question: `"${item.vn}" d·ªãch sang ti·∫øng Anh l√† g√¨?`,
        topic: item.topicName, options: opts, correct
      });
    }
  });

  quizIdx = 0;
  quizScore = {correct:0, wrong:0};
}

function renderQuiz() {
  const area = document.getElementById('contentArea');
  if (quizIdx >= quizQuestions.length) {
    const pct = Math.round(quizScore.correct/quizQuestions.length*100);
    area.innerHTML = `<div class="quiz-container" style="text-align:center;padding-top:40px;">
      <div style="font-size:3rem;margin-bottom:16px;">${pct>=80?'üéâ':pct>=50?'üëç':'üí™'}</div>
      <h2 style="font-family:'Playfair Display',serif;font-size:1.8rem;margin-bottom:24px;">Ho√†n th√†nh!</h2>
      <div class="quiz-score">
        <div class="quiz-score-item"><div class="num" style="color:var(--green)">${quizScore.correct}</div><div class="label">ƒê√∫ng</div></div>
        <div class="quiz-score-item"><div class="num" style="color:var(--red)">${quizScore.wrong}</div><div class="label">Sai</div></div>
        <div class="quiz-score-item"><div class="num" style="color:var(--accent)">${pct}%</div><div class="label">T·ª∑ l·ªá</div></div>
      </div>
      <button class="quiz-next" onclick="buildQuiz();renderQuiz()">L√†m l·∫°i üîÑ</button>
    </div>`;
    return;
  }
  const q = quizQuestions[quizIdx];
  area.innerHTML = `<div class="quiz-container">
    <div class="quiz-header"><div class="quiz-score">
      <div class="quiz-score-item"><div class="num" style="color:var(--green)">${quizScore.correct}</div><div class="label">ƒê√∫ng</div></div>
      <div class="quiz-score-item"><div class="num" style="color:var(--red)">${quizScore.wrong}</div><div class="label">Sai</div></div>
    </div></div>
    <div class="quiz-question-card">
      <div class="quiz-q-number">C√¢u ${quizIdx+1} / ${quizQuestions.length} ‚Äî ${q.topic}</div>
      <div class="quiz-q-text">${q.question}</div>
      <div class="quiz-options" id="quizOpts">
        ${q.options.map((opt,i)=>`<button class="quiz-option" data-idx="${i}">${opt}</button>`).join('')}
      </div>
    </div>
  </div>`;

  document.querySelectorAll('.quiz-option').forEach(btn => {
    btn.addEventListener('click', function() {
      const sel = this.textContent.trim();
      const correct = q.correct;
      document.querySelectorAll('.quiz-option').forEach(b => {
        b.classList.add('disabled');
        b.onclick = null;
        if (b.textContent.trim() === correct) b.classList.add('correct');
      });
      if (sel !== correct) { this.classList.add('wrong'); quizScore.wrong++; }
      else { quizScore.correct++; }
      document.querySelector('.quiz-question-card').insertAdjacentHTML('afterend',
        `<button class="quiz-next" onclick="quizIdx++;renderQuiz()">C√¢u ti·∫øp theo ‚Üí</button>`);
    }, {once: true});
  });
}

// INIT
buildTopicNav();
renderContent();
</script>
</body>
</html>
